/*! For license information please see ads-independent.js.LICENSE.txt */
!function(){var e={184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},996:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var u=Array.isArray(n);return u===Array.isArray(e)?u?c.arrayMerge(e,n,c):function(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}(e,n,c):r(n,c)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;e.exports=c},679:function(e,t,n){"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=c(t),v=c(n),_=0;_<a.length;++_){var y=a[_];if(!(o[y]||r&&r[y]||v&&v[y]||s&&s[y])){var m=f(n,y);try{u(t,y,m)}catch(e){}}}}return t}},661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return h},Component:function(){return r.wA},Fragment:function(){return r.HY},PureComponent:function(){return c},StrictMode:function(){return K},Suspense:function(){return g},SuspenseList:function(){return S},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return z},cloneElement:function(){return Y},createContext:function(){return r.kr},createElement:function(){return r.az},createFactory:function(){return F},createPortal:function(){return O},createRef:function(){return r.Vf},default:function(){return ne},findDOMNode:function(){return G},flushSync:function(){return J},forwardRef:function(){return f},hydrate:function(){return D},isValidElement:function(){return W},lazy:function(){return w},memo:function(){return u},render:function(){return P},startTransition:function(){return Z},unmountComponentAtNode:function(){return H},unstable_batchedUpdates:function(){return q},useCallback:function(){return i.I4},useContext:function(){return i.qp},useDebugValue:function(){return i.Qb},useDeferredValue:function(){return Q},useEffect:function(){return i.d4},useErrorBoundary:function(){return i.cO},useId:function(){return i.Me},useImperativeHandle:function(){return i.aP},useInsertionEffect:function(){return ee},useLayoutEffect:function(){return i.bt},useMemo:function(){return i.Ye},useReducer:function(){return i._Y},useRef:function(){return i.sO},useState:function(){return i.eJ},useSyncExternalStore:function(){return te},useTransition:function(){return X},version:function(){return B}});var r=n(400),i=n(396);function o(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function c(e){this.props=e}function u(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function i(t){return this.shouldComponentUpdate=n,(0,r.az)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(c.prototype=new r.wA).isPureReactComponent=!0,c.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)};var l=r.YM.__b;r.YM.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),l&&l(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return null==e?null:(0,r.bR)((0,r.bR)(e).map(t))},h={map:p,forEach:p,count:function(e){return e?(0,r.bR)(e).length:0},only:function(e){var t=(0,r.bR)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:r.bR},v=r.YM.__e;r.YM.__e=function(e,t,n,r){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);v(e,t,n,r)};var _=r.YM.unmount;function y(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return y(e,t,n)}))),e}function m(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return m(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function g(){this.__u=0,this.t=null,this.__b=null}function b(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function w(e){var t,n,i;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return(0,r.az)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function S(){this.u=null,this.o=null}r.YM.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),_&&_(e)},(g.prototype=new r.wA).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var i=b(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=a;var s=function(){if(!--r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=m(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},g.prototype.componentWillUnmount=function(){this.t=[]},g.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=y(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&(0,r.az)(r.HY,null,e.fallback);return o&&(o.__h=null),[(0,r.az)(r.HY,null,t.__a?null:e.children),o]};var E=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function k(e){return this.getChildContext=function(){return e.context},e.children}function x(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,r.sY)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,r.sY)((0,r.az)(k,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function O(e,t){var n=(0,r.az)(x,{__v:e,i:t});return n.containerInfo=t,n}(S.prototype=new r.wA).__a=function(e){var t=this,n=b(t.__v),r=t.o.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),E(t,e,r)):i()};n?n(o):o()}},S.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,r.bR)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},S.prototype.componentDidUpdate=S.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){E(e,n,t)}))};var A="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,C=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,I="undefined"!=typeof document,N=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function P(e,t,n){return null==t.__k&&(t.textContent=""),(0,r.sY)(e,t),"function"==typeof n&&n(),e?e.__c:null}function D(e,t,n){return(0,r.ZB)(e,t),"function"==typeof n&&n(),e?e.__c:null}r.wA.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(r.wA.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var T=r.YM.event;function M(){}function j(){return this.cancelBubble}function R(){return this.defaultPrevented}r.YM.event=function(e){return T&&(e=T(e)),e.persist=M,e.isPropagationStopped=j,e.isDefaultPrevented=R,e.nativeEvent=e};var L,V={configurable:!0,get:function(){return this.class}},$=r.YM.vnode;r.YM.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var a in i={},n){var s=n[a];I&&"children"===a&&"noscript"===t||"value"===a&&"defaultValue"in n&&null==s||("defaultValue"===a&&"value"in n&&null==n.value?a="value":"download"===a&&!0===s?s="":/ondoubleclick/i.test(a)?a="ondblclick":/^onchange(textarea|input)/i.test(a+t)&&!N(n.type)?a="oninput":/^onfocus$/i.test(a)?a="onfocusin":/^onblur$/i.test(a)?a="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(a)?a=a.toLowerCase():o&&C.test(a)?a=a.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(a)&&(a=a.toLowerCase(),i[a]&&(a="oninputCapture")),i[a]=s)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,r.bR)(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=(0,r.bR)(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,n.class!=n.className&&(V.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",V))}e.$$typeof=A,$&&$(e)};var U=r.YM.__r;r.YM.__r=function(e){U&&U(e),L=e.__c};var z={ReactCurrentDispatcher:{current:{readContext:function(e){return L.__n[e.__c].props.value}}}},B="17.0.2";function F(e){return r.az.bind(null,e)}function W(e){return!!e&&e.$$typeof===A}function Y(e){return W(e)?r.Tm.apply(null,arguments):e}function H(e){return!!e.__k&&((0,r.sY)(null,e),!0)}function G(e){return e&&(e.base||1===e.nodeType&&e)||null}var q=function(e,t){return e(t)},J=function(e,t){return e(t)},K=r.HY;function Z(e){e()}function Q(e){return e}function X(){return[!1,Z]}var ee=i.bt;function te(e,t){var n=t(),r=(0,i.eJ)({h:{__:n,v:t}}),o=r[0].h,a=r[1];return(0,i.bt)((function(){o.__=n,o.v=t,s(o.__,t())||a({h:o})}),[e,n,t]),(0,i.d4)((function(){return s(o.__,o.v())||a({h:o}),e((function(){s(o.__,o.v())||a({h:o})}))}),[e]),n}var ne={useState:i.eJ,useId:i.Me,useReducer:i._Y,useEffect:i.d4,useLayoutEffect:i.bt,useInsertionEffect:ee,useTransition:X,useDeferredValue:Q,useSyncExternalStore:te,startTransition:Z,useRef:i.sO,useImperativeHandle:i.aP,useMemo:i.Ye,useCallback:i.I4,useContext:i.qp,useDebugValue:i.Qb,version:"17.0.2",Children:h,render:P,hydrate:D,unmountComponentAtNode:H,createPortal:O,createElement:r.az,createContext:r.kr,createFactory:F,cloneElement:Y,createRef:r.Vf,Fragment:r.HY,isValidElement:W,findDOMNode:G,Component:r.wA,PureComponent:c,memo:u,forwardRef:f,flushSync:J,unstable_batchedUpdates:q,StrictMode:K,Suspense:g,SuspenseList:S,lazy:w,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:z}},400:function(e,t,n){"use strict";n.d(t,{HY:function(){return y},Tm:function(){return $},Vf:function(){return _},YM:function(){return i},ZB:function(){return V},az:function(){return h},bR:function(){return x},kr:function(){return U},sY:function(){return L},wA:function(){return m}});var r,i,o,a,s,c,u={},l=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var i,o,a,s={};for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return v(e,s,i,o,null)}function v(e,t,n,r,a){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++o:a};return null==a&&null!=i.vnode&&i.vnode(s),s}function _(){return{current:null}}function y(e){return e.children}function m(e,t){this.props=e,this.context=t}function g(e,t){if(null==t)return e.__?g(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?g(e):null}function b(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return b(e)}}function w(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!S.__r++||s!==i.debounceRendering)&&((s=i.debounceRendering)||setTimeout)(S)}function S(){for(var e;S.__r=a.length;)e=a.sort((function(e,t){return e.__v.__b-t.__v.__b})),a=[],e.some((function(e){var t,n,r,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=f({},i)).__v=i.__v+1,P(a,i,r,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?g(i):o,i.__h),D(n,i),i.__e!=o&&b(i)))}))}function E(e,t,n,r,i,o,a,s,c,d){var f,p,h,_,m,b,w,S=r&&r.__k||l,E=S.length;for(n.__k=[],f=0;f<t.length;f++)if(null!=(_=n.__k[f]=null==(_=t[f])||"boolean"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _?v(null,_,null,null,_):Array.isArray(_)?v(y,{children:_},null,null,null):_.__b>0?v(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)){if(_.__=n,_.__b=n.__b+1,null===(h=S[f])||h&&_.key==h.key&&_.type===h.type)S[f]=void 0;else for(p=0;p<E;p++){if((h=S[p])&&_.key==h.key&&_.type===h.type){S[p]=void 0;break}h=null}P(e,_,h=h||u,i,o,a,s,c,d),m=_.__e,(p=_.ref)&&h.ref!=p&&(w||(w=[]),h.ref&&w.push(h.ref,null,_),w.push(p,_.__c||m,_)),null!=m?(null==b&&(b=m),"function"==typeof _.type&&_.__k===h.__k?_.__d=c=k(_,c,e):c=O(e,_,h,S,m,c),"function"==typeof n.type&&(n.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=g(h))}for(n.__e=b,f=E;f--;)null!=S[f]&&j(S[f],S[f]);if(w)for(f=0;f<w.length;f++)M(w[f],w[++f],w[++f])}function k(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?k(r,t,n):O(n,r,r,i,r.__e,t));return t}function x(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){x(e,t)})):t.push(e)),t}function O(e,t,n,r,i,o){var a,s,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,c=0;(s=s.nextSibling)&&c<r.length;c+=1)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function A(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||d.test(t)?n:n+"px"}function C(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||A(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||A(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?N:I,o):e.removeEventListener(t,o?N:I,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function I(e){this.l[e.type+!1](i.event?i.event(e):e)}function N(e){this.l[e.type+!0](i.event?i.event(e):e)}function P(e,t,n,r,o,a,s,c,u){var l,d,p,h,v,_,g,b,w,S,k,x,O,A,C,I=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,c=t.__e=n.__e,t.__h=null,a=[c]),(l=i.__b)&&l(t);try{e:if("function"==typeof I){if(b=t.props,w=(l=I.contextType)&&r[l.__c],S=l?w?w.props.value:l.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in I&&I.prototype.render?t.__c=d=new I(b,S):(t.__c=d=new m(b,S),d.constructor=I,d.render=R),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=S,d.__n=r,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=I.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=f({},d.__s)),f(d.__s,I.getDerivedStateFromProps(b,d.__s))),h=d.props,v=d.state,p)null==I.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==I.getDerivedStateFromProps&&b!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(b,S),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(b,d.__s,S)||t.__v===n.__v){for(d.props=b,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(b,d.__s,S),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,v,_)}))}if(d.context=S,d.props=b,d.__v=t,d.__P=e,x=i.__r,O=0,"prototype"in I&&I.prototype.render){for(d.state=d.__s,d.__d=!1,x&&x(t),l=d.render(d.props,d.state,d.context),A=0;A<d._sb.length;A++)d.__h.push(d._sb[A]);d._sb=[]}else do{d.__d=!1,x&&x(t),l=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++O<25);d.state=d.__s,null!=d.getChildContext&&(r=f(f({},r),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(_=d.getSnapshotBeforeUpdate(h,v)),C=null!=l&&l.type===y&&null==l.key?l.props.children:l,E(e,Array.isArray(C)?C:[C],t,n,r,o,a,s,c,u),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=T(n.__e,t,n,r,o,a,s,u);(l=i.diffed)&&l(t)}catch(e){t.__v=null,(u||null!=a)&&(t.__e=c,t.__h=!!u,a[a.indexOf(c)]=null),i.__e(e,t,n)}}function D(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function T(e,t,n,i,o,a,s,c){var l,d,f,h=n.props,v=t.props,_=t.type,y=0;if("svg"===_&&(o=!0),null!=a)for(;y<a.length;y++)if((l=a[y])&&"setAttribute"in l==!!_&&(_?l.localName===_:3===l.nodeType)){e=l,a[y]=null;break}if(null==e){if(null===_)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,v.is&&v),a=null,c=!1}if(null===_)h===v||c&&e.data===v||(e.data=v);else{if(a=a&&r.call(e.childNodes),d=(h=n.props||u).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!c){if(null!=a)for(h={},y=0;y<e.attributes.length;y++)h[e.attributes[y].name]=e.attributes[y].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||C(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||C(e,o,t[o],n[o],r)}(e,v,h,o,c),f)t.__k=[];else if(y=t.props.children,E(e,Array.isArray(y)?y:[y],t,n,i,o&&"foreignObject"!==_,a,s,a?a[0]:n.__k&&g(n,0),c),null!=a)for(y=a.length;y--;)null!=a[y]&&p(a[y]);c||("value"in v&&void 0!==(y=v.value)&&(y!==e.value||"progress"===_&&!y||"option"===_&&y!==h.value)&&C(e,"value",y,h.value,!1),"checked"in v&&void 0!==(y=v.checked)&&y!==e.checked&&C(e,"checked",y,h.checked,!1))}return e}function M(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function j(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||M(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&j(r[o],t,n||"function"!=typeof e.type);n||null==e.__e||p(e.__e),e.__=e.__e=e.__d=void 0}function R(e,t,n){return this.constructor(e,n)}function L(e,t,n){var o,a,s;i.__&&i.__(e,t),a=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],P(t,e=(!o&&n||t).__k=h(y,null,[e]),a||u,u,void 0!==t.ownerSVGElement,!o&&n?[n]:a?null:t.firstChild?r.call(t.childNodes):null,s,!o&&n?n:a?a.__e:t.firstChild,o),D(s,e)}function V(e,t){L(e,t,V)}function $(e,t,n){var i,o,a,s=f({},e.props);for(a in t)"key"==a?i=t[a]:"ref"==a?o=t[a]:s[a]=t[a];return arguments.length>2&&(s.children=arguments.length>3?r.call(arguments,2):n),v(e.type,s,i||e.key,o||e.ref,null)}function U(e,t){var n={__c:t="__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(w)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=l.slice,i={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},o=0,m.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},n),this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),w(this))},m.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),w(this))},m.prototype.render=y,a=[],S.__r=0,c=0},396:function(e,t,n){"use strict";n.d(t,{I4:function(){return k},Me:function(){return C},Qb:function(){return O},Ye:function(){return E},_Y:function(){return m},aP:function(){return S},bt:function(){return b},cO:function(){return A},d4:function(){return g},eJ:function(){return y},qp:function(){return x},sO:function(){return w}});var r,i,o,a,s=n(400),c=0,u=[],l=[],d=s.YM.__b,f=s.YM.__r,p=s.YM.diffed,h=s.YM.__c,v=s.YM.unmount;function _(e,t){s.YM.__h&&s.YM.__h(i,e,c||t),c=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:l}),n.__[e]}function y(e){return c=1,m(j,e)}function m(e,t,n){var o=_(r++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):j(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){i.u=!0;var a=i.shouldComponentUpdate;i.shouldComponentUpdate=function(e,t,n){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter((function(e){return e.__c}));if(r.every((function(e){return!e.__N})))return!a||a.call(this,e,t,n);var i=!1;return r.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}})),!(!i&&o.__c.props===e)&&(!a||a.call(this,e,t,n))}}return o.__N||o.__}function g(e,t){var n=_(r++,3);!s.YM.__s&&M(n.__H,t)&&(n.__=e,n.i=t,i.__H.__h.push(n))}function b(e,t){var n=_(r++,4);!s.YM.__s&&M(n.__H,t)&&(n.__=e,n.i=t,i.__h.push(n))}function w(e){return c=5,E((function(){return{current:e}}),[])}function S(e,t,n){c=6,b((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function E(e,t){var n=_(r++,7);return M(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function k(e,t){return c=8,E((function(){return e}),t)}function x(e){var t=i.context[e.__c],n=_(r++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function O(e,t){s.YM.useDebugValue&&s.YM.useDebugValue(t?t(e):e)}function A(e){var t=_(r++,10),n=y();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]}function C(){var e=_(r++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function I(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(D),e.__H.__h.forEach(T),e.__H.__h=[]}catch(t){e.__H.__h=[],s.YM.__e(t,e.__v)}}s.YM.__b=function(e){i=null,d&&d(e)},s.YM.__r=function(e){f&&f(e),r=0;var t=(i=e.__c).__H;t&&(o===i?(t.__h=[],i.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=l,e.__N=e.i=void 0}))):(t.__h.forEach(D),t.__h.forEach(T),t.__h=[])),o=i},s.YM.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&a===s.YM.requestAnimationFrame||((a=s.YM.requestAnimationFrame)||P)(I)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==l&&(e.__=e.__V),e.i=void 0,e.__V=l}))),o=i=null},s.YM.__c=function(e,t){t.some((function(e){try{e.__h.forEach(D),e.__h=e.__h.filter((function(e){return!e.__||T(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.YM.__e(n,e.__v)}})),h&&h(e,t)},s.YM.unmount=function(e){v&&v(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{D(e)}catch(e){t=e}})),n.__H=void 0,t&&s.YM.__e(t,n.__v))};var N="function"==typeof requestAnimationFrame;function P(e){var t,n=function(){clearTimeout(r),N&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);N&&(t=requestAnimationFrame(n))}function D(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function T(e){var t=i;e.__c=e.__(),i=t}function M(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function j(e,t){return"function"==typeof t?t(e):t}},703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case _:case v:case c:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=_,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===m||e.$$typeof===g||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},864:function(e,t,n){"use strict";e.exports=n(921)},731:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=((r=n(661))&&r.__esModule?r:{default:r}).default.createContext({});t.default=i},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(697))&&r.__esModule?r:{default:r},o=i.default.shape({trackEvent:i.default.func,getTrackingData:i.default.func});t.default=o},204:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){Object.keys(e).length>0&&(window.dataLayer=window.dataLayer||[]).push(e)}},293:function(e,t,n){"use strict";Object.defineProperty(t,"rS",{enumerable:!0,get:function(){return i.default}});var r=o(n(496)),i=(o(n(996)),o(n(372)),o(n(592)),o(n(260)),o(n(717)));function o(e){return e&&e.__esModule?e:{default:e}}r.default},805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n,r){var i=r.configurable,o=r.enumerable,a=r.value,s=r.get,c=r.initializer;if(a)return{configurable:i,enumerable:o,value:e(a)};if(s||c)return{configurable:i,enumerable:o,get:function(){if(this===t)return null;var r=c?Reflect.apply(c,this,[]):Reflect.apply(s,this,[]),a=e(r).bind(this);return Reflect.defineProperty(this,n,{configurable:i,enumerable:o,value:a}),a}};throw new Error("called makeClassMemberDecorator on unsupported descriptor")}}},592:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)((function(t){return function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=function(){if(n.props&&n.props.tracking&&"function"==typeof n.props.tracking.trackEvent){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a="function"==typeof e?e(n.props,n.state,i,r):e;a&&n.props.tracking.trackEvent(a)}},s=Reflect.apply(t,this,i);return Promise&&Promise.resolve(s)===s?s.then(a.bind(this)).then((function(){return s})).catch((function(e){throw a({},e),e})):(a(),s)}}))};var r,i=(r=n(805))&&r.__esModule?r:{default:r}},496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){return 1===arguments.length?(0,r.default)(e,t).apply(void 0,arguments):(0,i.default)(e).apply(void 0,arguments)}};var r=o(n(372)),i=o(n(592));function o(e){return e&&e.__esModule?e:{default:e}}},717:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)(e,t),r=(0,i.useCallback)((function(e){var t=e.children;return i.default.createElement(o.default.Provider,{value:n},t)}),[n]);return(0,i.useDebugValue)(n.tracking.getTrackingData,(function(e){return e()})),(0,i.useMemo)((function(){return{Track:r,getTrackingData:n.tracking.getTrackingData,trackEvent:n.tracking.dispatch}}),[n,r])};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=s(n(731)),a=s(n(437));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}},437:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.useContext)(o.default).tracking,s=(0,r.useRef)(e),c=(0,r.useRef)(t);(0,r.useEffect)((function(){s.current=e,c.current=t}));var u=(0,r.useMemo)((function(){return c.current||{}}),[]),l=u.dispatch,d=void 0===l?a.default:l,f=u.dispatchOnMount,p=void 0!==f&&f,h=u.process,v=(0,r.useCallback)((function(){return n&&n.process}),[n]),_=(0,r.useCallback)((function(){var e=s.current;return("function"==typeof e?e():e)||{}}),[]),y=(0,r.useCallback)((function(){var e=n&&n.getTrackingData||_;return function(){return e===_?_():(0,i.default)(e(),_(),(c.current||{}).mergeOptions)}}),[_,n]),m=(0,r.useCallback)((function(){var e=n&&n.dispatch||d;return function(t){return e((0,i.default)(_(),t||{},(c.current||{}).mergeOptions))}}),[_,n,d]),g=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m()(e)}),[m]);return(0,r.useEffect)((function(){var e=v(),t=y();if(e&&h&&console.error("[react-tracking] options.process should be defined once on a top-level component"),"function"==typeof e&&"function"==typeof p)g((0,i.default)(e(_())||{},p(t())||{},(c.current||{}).mergeOptions));else if("function"==typeof e){var n=e(_());(n||!0===p)&&g(n)}else"function"==typeof p?g(p(t())):!0===p&&g()}),[_,v,y,g,p,h]),(0,r.useMemo)((function(){return{tracking:{dispatch:m(),getTrackingData:y(),process:v()||h}}}),[m,y,v,h])};var r=n(661),i=s(n(996)),o=s(n(731)),a=s(n(204));function s(e){return e&&e.__esModule?e:{default:e}}},372:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.forwardRef,r=void 0!==n&&n,d=_(t,u);return function(t){var n=t.displayName||t.name||"Component";function u(n){var o=n.rtFwdRef,a=_(n,l),u=(0,i.useRef)(a);(0,i.useEffect)((function(){u.current=a}));var f=(0,i.useCallback)((function(){return"function"==typeof e?e(u.current):e}),[]),p=(0,c.default)(f,d),v=(0,i.useMemo)((function(){return{trackEvent:p.tracking.dispatch,getTrackingData:p.tracking.getTrackingData}}),[p]),y=(0,i.useMemo)((function(){return r?h(h({},a),{},{ref:o}):a}),[a,o]);return i.default.createElement(s.default.Provider,{value:p},i.default.createElement(t,h(h({},y),{},{tracking:v})))}if(r){var f=i.default.forwardRef((function(e,t){return i.default.createElement(u,h(h({},e),{},{rtFwdRef:t}))}));return f.displayName="WithTracking(".concat(n,")"),(0,o.default)(f,t),f}return u.displayName="WithTracking(".concat(n,")"),u.propTypes={rtFwdRef:a.default.oneOfType([a.default.func,a.default.shape({current:a.default.any})])},u.defaultProps={rtFwdRef:void 0},(0,o.default)(u,t),u}};var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(661)),o=d(n(679)),a=d(n(697)),s=d(n(731)),c=d(n(437)),u=["forwardRef"],l=["rtFwdRef"];function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},250:function(e,t,n){"use strict";var r=n(661),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})}),[e,n,t]),a((function(){return u(i)&&l({inst:i}),e((function(){u(i)&&l({inst:i})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},139:function(e,t,n){"use strict";var r=n(661),i=n(688),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,i]);var p=a(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},688:function(e,t,n){"use strict";e.exports=n(250)},798:function(e,t,n){"use strict";e.exports=n(139)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{after:function(){return wc},assign:function(){return bc},cancel:function(){return mc},choose:function(){return Nc},doneState:function(){return Sc},error:function(){return Cc},errorExecution:function(){return Oc},errorPlatform:function(){return Ac},init:function(){return kc},invoke:function(){return xc},log:function(){return Ec},nullEvent:function(){return gc},pure:function(){return Pc},raise:function(){return _c},send:function(){return yc},start:function(){return hc},stop:function(){return vc},update:function(){return Ic}});var t={};n.r(t),n.d(t,{actionTypes:function(){return e},after:function(){return eu},assign:function(){return Qc},cancel:function(){return qc},choose:function(){return su},done:function(){return tu},doneInvoke:function(){return nu},error:function(){return ru},escalate:function(){return au},forwardTo:function(){return ou},getActionFunction:function(){return Tc},initEvent:function(){return Dc},isActionObject:function(){return Xc},log:function(){return Hc},pure:function(){return iu},raise:function(){return Lc},resolveActions:function(){return cu},resolveLog:function(){return Gc},resolveRaise:function(){return Vc},resolveSend:function(){return Uc},resolveStop:function(){return Zc},respond:function(){return Wc},send:function(){return $c},sendParent:function(){return zc},sendTo:function(){return Bc},sendUpdate:function(){return Fc},start:function(){return Jc},stop:function(){return Kc},toActionObject:function(){return Mc},toActionObjects:function(){return jc},toActivityDefinition:function(){return Rc}});var r=n(661);function i(e){return{render(t){(0,r.render)(t,e)},unmount(){(0,r.unmountComponentAtNode)(e)}}}var o=Symbol.for("openweb-global-object");void 0===window[o]&&(window[o]={flags:{},config:{realTimeNotifications:{}},callbacks:{},services:{},initFunctions:{},safeframe:{}});var a=window[o],s="video",c="display",u="iframe",l="above",d="below",f="left",p="right",h="directionBelow",v="spotlight",_="recirculation",y="pitc",m="pitc-double-decker",g="reactions",b="topic-tracker",w="Mobile",S="Desktop",E="containerWidth",k="onDimensionsChange",x="onNoAdAvailable",O="onTagUpdated",A="scroll",C="ads",I="ads-independent",N="passback",P="development",D="production",T="OW_STICKY_CONTAINER_IS_CLOSED",M="botBypassDisabled",j={SlideInDown:"stickyDesktopSlideInDown",SlideInvisiblyDown:"stickyDesktopSlideInvisiblyDown",SlideInUp:"stickyDesktopSlideInUp"},R="Network",L="DisplayAdError";const V={row:1,column:1},$="Responsive",U=[y,_],z=[y,_],B="ad content",F={homepage:"pitc_hp",article:"pitc_ap",gallery:"pitc_gp",search:"pitc_sp",video:"pitc_vp"},W=3e3,Y={is_enabled:!1,is_always_on_top:!1,is_animation_enabled:!1,is_stay_sticky_after_timeout:!1,sticky_area_css_selector:"[data-spot-im-module-default-area=conversation]",timeout:W},H={...Y},G={...Y},q={is_enabled:!1,active_products:[],products_heights:{}},J=1e3,K=[j.SlideInDown,j.SlideInvisiblyDown,j.SlideInUp],Z=.4.toFixed(2),Q="300px",X="20px",ee="255px",te="280px";var ne="Opera";const re={type:"other",version:"unknown"},ie=[{markerRegex:/(Edg|EdgA|EdgiOS)/,typeAndVersionRegex:/(?<type>(Edg|EdgA|EdgiOS))\/(?<version>\d+)(.|\s)/,replacements:{EdgA:"Edge Android",EdgiOS:"Edge iOS",Edg:"Edge"}},{markerRegex:/DuckDuckGo/,typeAndVersionRegex:/(?<type>(DuckDuckGo))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(OPR|Opera|Opera Mini)/,typeAndVersionRegex:/(?<type>(OPR|Opera Mini|Version))\/(?<version>\d+)(.|\s)/,replacements:{OPR:ne,Version:ne}},{markerRegex:/SamsungBrowser/,typeAndVersionRegex:/(?<type>(SamsungBrowser))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/Focus/,typeAndVersionRegex:/(?<type>(Focus))\/(?<version>\d+)(.|\s)/,replacements:{Focus:"Firefox Focus"}},{markerRegex:/Chrome/,typeAndVersionRegex:/(?<type>(Chrome))\/(?<version>\d+)(.|\s)/,replacements:{}},{markerRegex:/(Firefox|Version|CriOS|FxiOS)/,typeAndVersionRegex:/(?<type>(Firefox|Version|CriOS|FxiOS))\/(?<version>\d+)(.|\s)/,replacements:{CriOS:"Chrome iOS",FxiOS:"Firefox iOS",Version:"Safari"}}],oe=(e,t)=>({type:(null!=t&&t.type&&Object.keys(e).includes(null==t?void 0:t.type)?e[t.type]:null==t?void 0:t.type)??re.type,version:(null==t?void 0:t.version)??re.version}),ae=()=>new URLSearchParams(window.location.search),se="true"===ae().get(M),ce=/(mobile|iemobile|android|webos|iphone|ipod|blackberry|windows phone)/,ue=/ipad/;var le,de,fe,pe=function(){var e,t,n;const r=(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.toLowerCase())??"";return Boolean(r.match(ce))&&!r.match(ue)}();const he=ae(),ve=Boolean(localStorage.getItem("OPENWEB_AD_UNIT_DEBUG_API")||he.get("openWebAdsDebug")),_e="*"===localStorage.getItem("SPOTIM_DEBUG_API"),ye=Boolean(localStorage.getItem("OPENWEB_AD_UNIT_VERBOSE_LOGGING")||he.get("openWebAdsVerboseLogging")),me=window.__SPOTIMENV__??D,ge="production",be={adsAssetType:"ads-independent",isVerboseLoggingEnabled:ye,browser:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;try{for(const n of ie)if(n.markerRegex.test(e)){var t;const r=null===(t=n.typeAndVersionRegex.exec(e))||void 0===t?void 0:t.groups;return oe(n.replacements,r)}return re}catch{return re}}(),device:pe?w:S,endpoints:{apiAdsConfig:{production:"https://api-2-0.spot.im/v1.0.0/owa-gw/spot",staging:"https://api.staging-spot.im/owa-gw/spot"}},isDebugMode:_e||ve,launcherEnv:{isDevelopment:me===P,isProduction:me===D,isStaging:"staging"===me,type:me},nodeEnv:{isDevelopment:!1,isProduction:!0,isTest:"test"===me,type:ge},platform:(null===(le=window.navigator)||void 0===le||null===(de=le.userAgentData)||void 0===de?void 0:de.platform)??(null===(fe=window.navigator)||void 0===fe?void 0:fe.platform),version:"v22.0.0"};var we,Se=be,Ee=window.__SPOTIM__.libSlimLauncher.configProvider,ke=n.n(Ee),xe=Array.isArray,Oe="object"==typeof global&&global&&global.Object===Object&&global,Ae="object"==typeof self&&self&&self.Object===Object&&self,Ce=Oe||Ae||Function("return this")(),Ie=Ce.Symbol,Ne=Object.prototype,Pe=Ne.hasOwnProperty,De=Ne.toString,Te=Ie?Ie.toStringTag:void 0,Me=Object.prototype.toString,je=Ie?Ie.toStringTag:void 0,Re=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":je&&je in Object(e)?function(e){var t=Pe.call(e,Te),n=e[Te];try{e[Te]=void 0;var r=!0}catch(e){}var i=De.call(e);return r&&(t?e[Te]=n:delete e[Te]),i}(e):function(e){return Me.call(e)}(e)},Le=function(e){return null!=e&&"object"==typeof e},Ve=function(e){return"symbol"==typeof e||Le(e)&&"[object Symbol]"==Re(e)},$e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ue=/^\w*$/,ze=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Be=function(e){if(!ze(e))return!1;var t=Re(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Fe=Ce["__core-js_shared__"],We=(we=/[^.]+$/.exec(Fe&&Fe.keys&&Fe.keys.IE_PROTO||""))?"Symbol(src)_1."+we:"",Ye=Function.prototype.toString,He=function(e){if(null!=e){try{return Ye.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ge=/^\[object .+?Constructor\]$/,qe=Function.prototype,Je=Object.prototype,Ke=qe.toString,Ze=Je.hasOwnProperty,Qe=RegExp("^"+Ke.call(Ze).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xe=function(e){return!(!ze(e)||(t=e,We&&We in t))&&(Be(e)?Qe:Ge).test(He(e));var t},et=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Xe(n)?n:void 0},tt=et(Object,"create"),nt=Object.prototype.hasOwnProperty,rt=Object.prototype.hasOwnProperty;function it(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}it.prototype.clear=function(){this.__data__=tt?tt(null):{},this.size=0},it.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},it.prototype.get=function(e){var t=this.__data__;if(tt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return nt.call(t,e)?t[e]:void 0},it.prototype.has=function(e){var t=this.__data__;return tt?void 0!==t[e]:rt.call(t,e)},it.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=tt&&void 0===t?"__lodash_hash_undefined__":t,this};var ot=it,at=function(e,t){return e===t||e!=e&&t!=t},st=function(e,t){for(var n=e.length;n--;)if(at(e[n][0],t))return n;return-1},ct=Array.prototype.splice;function ut(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ut.prototype.clear=function(){this.__data__=[],this.size=0},ut.prototype.delete=function(e){var t=this.__data__,n=st(t,e);return!(n<0||(n==t.length-1?t.pop():ct.call(t,n,1),--this.size,0))},ut.prototype.get=function(e){var t=this.__data__,n=st(t,e);return n<0?void 0:t[n][1]},ut.prototype.has=function(e){return st(this.__data__,e)>-1},ut.prototype.set=function(e,t){var n=this.__data__,r=st(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var lt=ut,dt=et(Ce,"Map"),ft=function(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map};function pt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pt.prototype.clear=function(){this.size=0,this.__data__={hash:new ot,map:new(dt||lt),string:new ot}},pt.prototype.delete=function(e){var t=ft(this,e).delete(e);return this.size-=t?1:0,t},pt.prototype.get=function(e){return ft(this,e).get(e)},pt.prototype.has=function(e){return ft(this,e).has(e)},pt.prototype.set=function(e,t){var n=ft(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var ht=pt;function vt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(vt.Cache||ht),n}vt.Cache=ht;var _t,yt,mt,gt,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/\\(\\)?/g,St=(_t=vt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(bt,(function(e,n,r,i){t.push(r?i.replace(wt,"$1"):n||e)})),t}),(function(e){return 500===yt.size&&yt.clear(),e})),yt=_t.cache,_t),Et=Ie?Ie.prototype:void 0,kt=Et?Et.toString:void 0,xt=function e(t){if("string"==typeof t)return t;if(xe(t))return function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,e)+"";if(Ve(t))return kt?kt.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},Ot=function(e,t){return xe(e)?e:function(e,t){if(xe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ve(e))||Ue.test(e)||!$e.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:St(function(e){return null==e?"":xt(e)}(e))},At=function(e){if("string"==typeof e||Ve(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Ct=function(e,t,n){var r=null==e?void 0:function(e,t){for(var n=0,r=(t=Ot(t,e)).length;null!=e&&n<r;)e=e[At(t[n++])];return n&&n==r?e:void 0}(e,t);return void 0===r?n:r};const It=window.__OW_CONFIG__,Nt=Array.from(document.querySelectorAll("script[data-spotim-module]")),[Pt]=Nt,Dt=ke().get("spotId")??(null==It||null===(mt=It.init_data)||void 0===mt||null===(gt=mt.config)||void 0===gt?void 0:gt.id),Tt=ke().get("postId")??Pt.dataset.postId,Mt=()=>Dt,jt=()=>Tt;function Rt(e,t){return ke().get(e)??Ct(It,e,t)}function Lt(e,t){return Rt(`tenant_config.ads.${e}`,t)}function Vt(e,t){return(0,r.useMemo)((()=>Lt(e,t)),[e,t])}const{metrics:$t={}}=Lt("monitoring",{}),Ut="DETAILED",zt=(e,t)=>{var n;return(null===(n=$t.error)||void 0===n?void 0:n[t])===Ut?e.message:"Error placeholder"},{isDebugMode:Bt,isVerboseLoggingEnabled:Ft}=Se,Wt=function(e,t){if(Bt&&Ht(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.log(`%cOpenWeb Ads%c\n\n%c${t}:%c`,"background: #424242; color: #81d4fa","background: transparent; color: unset","color: #a5d6a7","color: unset",...r)}},Yt=function(e,t){if(Bt&&Ht(e)){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];console.error(`%cOpenWeb Ads%c\n\n%c${t}%c\n`,"color: #81d4fa","color: unset","color: #ffcc80","color: unset",...r)}},Ht=e=>!e||Ft;var Gt,qt,Jt=()=>a.config.pageViewId??"",Kt=Object.prototype,Zt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Kt)},Qt=(Gt=Object.keys,qt=Object,function(e){return Gt(qt(e))}),Xt=Object.prototype.hasOwnProperty,en=function(e){if(!Zt(e))return Qt(e);var t=[];for(var n in Object(e))Xt.call(e,n)&&"constructor"!=n&&t.push(n);return t},tn=et(Ce,"DataView"),nn=et(Ce,"Promise"),rn=et(Ce,"Set"),on=et(Ce,"WeakMap"),an="[object Map]",sn="[object Promise]",cn="[object Set]",un="[object WeakMap]",ln="[object DataView]",dn=He(tn),fn=He(dt),pn=He(nn),hn=He(rn),vn=He(on),_n=Re;(tn&&_n(new tn(new ArrayBuffer(1)))!=ln||dt&&_n(new dt)!=an||nn&&_n(nn.resolve())!=sn||rn&&_n(new rn)!=cn||on&&_n(new on)!=un)&&(_n=function(e){var t=Re(e),n="[object Object]"==t?e.constructor:void 0,r=n?He(n):"";if(r)switch(r){case dn:return ln;case fn:return an;case pn:return sn;case hn:return cn;case vn:return un}return t});var yn=_n,mn=function(e){return Le(e)&&"[object Arguments]"==Re(e)},gn=Object.prototype,bn=gn.hasOwnProperty,wn=gn.propertyIsEnumerable,Sn=mn(function(){return arguments}())?mn:function(e){return Le(e)&&bn.call(e,"callee")&&!wn.call(e,"callee")},En=Sn,kn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},xn=function(e){return null!=e&&kn(e.length)&&!Be(e)},On="object"==typeof exports&&exports&&!exports.nodeType&&exports,An=On&&"object"==typeof module&&module&&!module.nodeType&&module,Cn=An&&An.exports===On?Ce.Buffer:void 0,In=(Cn?Cn.isBuffer:void 0)||function(){return!1},Nn={};Nn["[object Float32Array]"]=Nn["[object Float64Array]"]=Nn["[object Int8Array]"]=Nn["[object Int16Array]"]=Nn["[object Int32Array]"]=Nn["[object Uint8Array]"]=Nn["[object Uint8ClampedArray]"]=Nn["[object Uint16Array]"]=Nn["[object Uint32Array]"]=!0,Nn["[object Arguments]"]=Nn["[object Array]"]=Nn["[object ArrayBuffer]"]=Nn["[object Boolean]"]=Nn["[object DataView]"]=Nn["[object Date]"]=Nn["[object Error]"]=Nn["[object Function]"]=Nn["[object Map]"]=Nn["[object Number]"]=Nn["[object Object]"]=Nn["[object RegExp]"]=Nn["[object Set]"]=Nn["[object String]"]=Nn["[object WeakMap]"]=!1;var Pn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Dn=Pn&&"object"==typeof module&&module&&!module.nodeType&&module,Tn=Dn&&Dn.exports===Pn&&Oe.process,Mn=function(){try{return Dn&&Dn.require&&Dn.require("util").types||Tn&&Tn.binding&&Tn.binding("util")}catch(e){}}(),jn=Mn&&Mn.isTypedArray,Rn=jn?function(e){return function(t){return e(t)}}(jn):function(e){return Le(e)&&kn(e.length)&&!!Nn[Re(e)]},Ln=Object.prototype.hasOwnProperty,Vn=window.__SPOTIM__.libSlimLauncher.metricsReporter;const $n=n.n(Vn)()(Mt(),Se.adsAssetType),Un=e=>Boolean(e)&&!function(e){if(null==e)return!0;if(xn(e)&&(xe(e)||"string"==typeof e||"function"==typeof e.splice||In(e)||Rn(e)||En(e)))return!e.length;var t=yn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Zt(e))return!en(e).length;for(var n in e)if(Ln.call(e,n))return!1;return!0}(e),{tags:zn={}}=Lt("monitoring",{});const{metrics:Bn={}}=Lt("monitoring",{});let Fn={};const Wn=e=>[!0,Ut].some((t=>{var n;return(null===(n=Bn.error)||void 0===n?void 0:n[e])===t})),Yn=e=>{var t;return!0===(null===(t=Bn.generic)||void 0===t?void 0:t[e])},Hn=e=>{let{error:t,isMetricEnabled:n,metric:r,options:i={},tags:o={},sendMetric:a}=e;return Promise.resolve().then((()=>{if(!n)return void Wt(!0,"Sending metric is disabled",r);const{isDisposable:e}=i;if(e){if((e=>{var t;const n=Jt();return Boolean(null===(t=Fn[n])||void 0===t?void 0:t[e])})(r))return;(e=>{const t=Jt();Fn[t]||(Fn={[t]:{}}),Fn[t][e]=!0})(r)}const s=[],c=(e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return!0===zn[n]&&(e[n]=r),e}),{}))(o);a(c),t&&s.push("\nError:",t),i&&s.push("\nOptions:",i),c&&s.push("\nTags:",c),Wt(!0,"Sending metric",r,...s)})).catch((e=>{Yt(!0,"Sending metric error",e,"\nMetric:",r)}))},Gn=e=>{let{error:t,metric:n,options:r,tags:i}=e;return Hn({error:t,metric:n,options:r,tags:i,isMetricEnabled:Wn(n),sendMetric:e=>(e=>{let{error:t,metric:n,tags:r}=e;return $n.error(n,t,Un(r)?r:void 0)})({error:t,metric:n,tags:e})})},qn=e=>{let{metric:t,options:n,tags:r}=e;return Hn({metric:t,options:n,tags:r,isMetricEnabled:Yn(t),sendMetric:e=>(e=>{let{metric:t,tags:n}=e;return $n.send(t,Un(n)?{tags:n}:void 0)})({metric:t,tags:e})})};var Jn=window.__SPOTIM__.libSlimLauncher.pubSub;const Kn=(e,t,n)=>{const r=`${e}-${t}`;Wt(!0,"Dispatching event",r,"\nParameters:",n),(0,Jn.dispatch)(r,n)},Zn=(e,t,n)=>{const r=`${e}-${t}`;return Wt(!0,"Subscribing to event",r),(0,Jn.subscribe)(r,n)},Qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Kn(t,k,{width:n,height:r}),e({width:n,height:r})};const Xn=e=>24*e*60*60*J;var er=(e,t,n)=>{navigator.cookieEnabled&&(document.cookie=`${e}=${t}${(e=>{if(null==e)return"";const t=new Date;return t.setTime(t.getTime()+Xn(e)),`; expires=${t.toUTCString()}`})(n)}; path=/`)},tr="impressionViewable",nr="slotOnload",rr="slotRenderEnded",ir="slotRequested",or="slotResponseReceived",ar=window.__SPOTIM__.libSlimLauncher.ab,sr=n.n(ar);const cr={engine_status:"engine-killed-by-request"},ur={engine_status:"ads-script-started"},lr={engine_status:"content-without-ads"},dr={engine_status:"engine-monetization-load"},fr={type:"dfp-initial-load-disabled"},pr={type:"loaded"},hr=(e,t,n)=>{wo({type:"engine_status",source_version:Se.version,spot_id:Mt(),post_id:jt(),source:t,test_field:sr().getAllExperiments(),campaign_id:n,page_view_id:a.config.pageViewId,...e})},vr=e=>{let{reportingModuleName:t,campaignId:n}=e;return hr(cr,t,n)},_r=e=>{let{reportingModuleName:t,campaignId:n}=e;return hr(ur,t,n)};window.googletag=window.googletag||{cmd:[]};var yr=(e,t)=>{var n;Lt("enable_dfp_analytics",!0)&&(n=()=>{window.googletag.pubads().isInitialLoadDisabled()&&(e=>{let{reportingModuleName:t,campaignId:n}=e;hr(fr,t,n)})({reportingModuleName:e,campaignId:t})},window.googletag.cmd.push(n))};function mr(e){var t;return null!=(t=gr(e.name))?t:e}function gr(e){var t,n;return null==(t=window.__OPEN_WEB__)||null==(n=t.duplicated_functions_support)?void 0:n[e]}var br=function(){var e;return null!=(e=gr("isInSafeframe"))?e:window.top!==window&&!!window.$sf},wr=0,Sr=!1,Er=function(e){var t,n,r;return e?null==(t=100!==(null==(n=window.$sf)||null==(r=n.ext)||null==r.inViewPercentage?void 0:r.inViewPercentage()))||t:(document.documentElement.scrollHeight||document.body.scrollHeight)>window.innerHeight+20},kr=function(){return document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset},xr=function(e){var t,n;return!!e&&(null==(t=window.$sf)||null==(n=t.ext)||null==n.inViewPercentage?void 0:n.inViewPercentage())>0},Or=function(e){var t,n,r,i,o;return e?null!=(t=null==(n=gr("getBrowserScrollPositionSafeFrame"))?void 0:n())?t:(i=(r=window.$sf.ext.geom()).par,o=r.win,i.t||i.b-o.h):mr(kr)()},Ar=function(e,t){var n=function n(){e(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r)},r=function r(){!function(e,t,n,r){wr=kr(),Sr||(window.requestAnimationFrame((function(){!function(e,t,n,r,i){e>=20&&(window.removeEventListener("resize",r),window.removeEventListener("scroll",n),t(i))}(wr,e,t,n,r),Sr=!1})),Sr=!0)}(e,r,n,t)};window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",n)},Cr=function(e,t){document.addEventListener("geom-update",(function n(){Or(!0)>=20&&(document.removeEventListener("geom-update",n),e(t))}))},Ir=window.location,Nr=function(e){void 0===e&&(e=document.referrer);try{return new URL(e)}catch(e){return Ir}},Pr=function(){return br()?Nr(a.safeframe.hostUrl):(null!=(e=gr("isInIframe"))?e:window.top!==window.self)?Nr(a.config.hostUrl):Ir;var e};const Dr=()=>mr(Pr)().href,Tr=e=>new URL(e).hostname;var Mr=e=>{let{adUnitIdFormatted:t,code:n,codeSettings:r,engagementLevel:i,isRenderAdsInIframeEnabled:o,mcmNetworkId:s="",reportingModuleName:c,sellerId:u,slot:l,spotId:d,userGroups:f,isStickyEnabled:p=!1}=e;const h=Lt("adtelligent_account_id","wrapper_hb_270443"),v=Lt("supply_chain_enabled",!0),_={[(g=c,`${b=g,{conversation_header:"convHeader",conversation_header_siderail:"convHeadSR",topic_tracker:"topicTrk",topic_tracker_siderail:"topicTrkSR",reaction_siderail:"reactionsSR",side_rail:"pitcSR",independent_ad:"independent",discover:"discover"}[b]??b}SpotId`)]:d,source_version:Se.version,topSpotId:d,source:c,pageViewId:a.config.pageViewId,isStickyAdUnit:`${p}`,engagementLevel:i,userGroups:f,slot:co(l),abTest:io(),assetGroupId:fo()},{googletag_slot_id:y=""}=r??{},m=y.replace("{{MCM_NETWORK_ID}}",s?`,${s}`:"");var g,b;Wt(!0,"DFP configuration",{..._,code:n},"\nAd Unit Id Formatted:",t);const w=(e=>Object.keys(e).map((t=>{const n=e[t];return n?`.setTargeting(${JSON.stringify(t)},${JSON.stringify(n)})`:""})).join(""))(_),S=o?"window.parent":"window",E=Dr(),k=br()?E:Tr(E),x=[rr,nr,ir,or,tr].map((e=>(e=>`\n    googletag.pubads().addEventListener('${e}', function(event) {\n      // Listeners operate at service level, which means that you cannot add\n      // a listener for an event for a specific slot only\n      // more info can be found here: https://developers.google.com/publisher-tag/reference#googletag.Service_addEventListener\n      if (event.slot.getAdUnitPath() === '${m}') {\n        ${S}.dispatchEvent(new CustomEvent("dfpEvent-${t}", {\n            detail: {\n             type: '${e}'\n             ${e===rr?",isEmpty: event.isEmpty":""}\n             ${e===rr?",size: event.size":""}\n            }\n        }));\n      }\n    });\n  `)(e))).join("\n"),O=n.replace("{{MCM_NETWORK_ID}}",s?`,${s}`:"").replace(".addService(googletag.pubads());",`${w}.addService(googletag.pubads().set('page_url','${k}')); ${x}`);if(v&&O.includes(h)){const e=((e,t)=>`<script>vpb.cmd=vpb.cmd||[];vpb.cmd.push(function(){vpb.setClientSchain({asi:'spotim.market',sid:'${t}'})})<\/script>`)(0,u);return`${O}${e}`}return O},jr=e=>e?{engine_vendor_name:e.type.toLowerCase(),engine_tag_id:e.id,in_view:`${e.size.width}*${e.size.height}`,variant:e.variant}:{engine_vendor_name:"",engine_tag_id:"",in_view:"",variant:""};const Rr=["gdpr","ccpa","ats"],Lr={gdpr:"__tcfapi",ccpa:"__uspapi",ats:"ats"},Vr=e=>`\n  Object.defineProperty(window, '${e}', {\n    get() {\n      return window.parent['${e}'];\n    },\n    configurable: true,\n    enumerable: true\n  });\n  `;var $r=e=>{var t;let{adUnitId:n,content:r,reportingModuleName:i,target:o}=e;const a=Lt("enable_iframe_allow_same_origin",!0),s=document.createElement("iframe");Object.assign(s.style,{width:"100%",height:"100%",border:"none"}),s.setAttribute("title",B),a&&s.setAttribute("allow-same-origin",""),o.appendChild(s),null===(t=s.contentWindow)||void 0===t||t.document.open(),setTimeout((()=>{if(s.contentWindow)try{const e=((e,t)=>{const n=Lt("enable_iframe_local_storage_polyfill",!0),r=Lt("enable_iframe_proxies",!1);return`\n  <html lang=${window.document.documentElement.lang}>\n  <script>\n    window.addEventListener('error', (event) => {\n      window.parent.postMessage({\n        adUnitId: '${e}',\n        error: event.error,\n        isGoogleDfpScript: document.currentScript?.innerHTML.includes('googletag.pubads'),\n        type: 'DisplayAdError',\n      }, window.parent.origin);\n    });\n  <\/script>\n  <body style='margin: 0; padding: 0; overflow: hidden; background: transparent;'>\n    ${r?`<script>${(()=>{const e=Lt("iframe_proxies",Rr);return(t=e,n=Rr,t.filter((e=>n.includes(e)))).map((e=>Lr[e])).filter((e=>void 0!==e)).map(Vr).join("\n");var t,n})()}<\/script>`:""}\n    ${n?`<script>${_o()}<\/script>`:""}\n    ${t}\n  </body>\n</html>\n`})(n,r);s.contentWindow.document.write(e),s.contentWindow.document.close()}catch(e){Yt(!0,"Render in iframe error",e,"\nProduct:",i),Yo(po(e))}}),0)},Ur=function(e){return e},zr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Br=Math.max,Fr=function(){try{var e=et(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Wr=Fr?function(e,t){return Fr(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ur,Yr=Date.now,Hr=function(e){var t=0,n=0;return function(){var r=Yr(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Gr=Hr(Wr),qr=on&&new on,Jr=qr?function(e,t){return qr.set(e,t),e}:Ur,Kr=Object.create,Zr=function(){function e(){}return function(t){if(!ze(t))return{};if(Kr)return Kr(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Qr=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Zr(e.prototype),r=e.apply(n,t);return ze(r)?r:n}},Xr=Math.max,ei=function(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=Xr(o-a,0),l=Array(c+u),d=!r;++s<c;)l[s]=t[s];for(;++i<a;)(d||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l},ti=Math.max,ni=function(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=ti(o-s,0),d=Array(l+u),f=!r;++i<l;)d[i]=e[i];for(var p=i;++c<u;)d[p+c]=t[c];for(;++a<s;)(f||i<o)&&(d[p+n[a]]=e[i++]);return d},ri=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r},ii=function(){};function oi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}oi.prototype=Zr(ii.prototype),oi.prototype.constructor=oi;var ai=oi,si=qr?function(e){return qr.get(e)}:function(){},ci={},ui=Object.prototype.hasOwnProperty;function li(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}li.prototype=Zr(ii.prototype),li.prototype.constructor=li;var di=li,fi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},pi=Object.prototype.hasOwnProperty;function hi(e){if(Le(e)&&!xe(e)&&!(e instanceof ai)){if(e instanceof di)return e;if(pi.call(e,"__wrapped__"))return function(e){if(e instanceof ai)return e.clone();var t=new di(e.__wrapped__,e.__chain__);return t.__actions__=fi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}(e)}return new di(e)}hi.prototype=ii.prototype,hi.prototype.constructor=hi;var vi=hi,_i=function(e){var t=function(e){for(var t=e.name+"",n=ci[t],r=ui.call(ci,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}(e),n=vi[t];if("function"!=typeof n||!(t in ai.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]},yi=Hr(Jr),mi=/\{\n\/\* \[wrapped with (.+)\] \*/,gi=/,? & /,bi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,wi=function(e){return e!=e},Si=function(e,t){return!(null==e||!e.length)&&function(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,wi,n)}(e,t,0)>-1},Ei=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ki=function(e,t,n){var r=t+"";return Gr(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(bi,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(Ei,(function(n){var r="_."+n[0];t&n[1]&&!Si(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(mi);return t?t[1].split(gi):[]}(r),n)))},xi=function(e,t,n,r,i,o,a,s,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,c,u],f=n.apply(void 0,d);return _i(e)&&yi(f,d),f.placeholder=r,ki(f,e,t)},Oi=function(e){return e.placeholder},Ai=/^(?:0|[1-9]\d*)$/,Ci=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ai.test(e))&&e>-1&&e%1==0&&e<t},Ii=Math.min,Ni=function(e,t){for(var n=e.length,r=Ii(t.length,n),i=fi(e);r--;){var o=t[r];e[r]=Ci(o,n)?i[o]:void 0}return e},Pi="__lodash_placeholder__",Di=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==Pi||(e[n]=Pi,o[i++]=n)}return o},Ti=function e(t,n,r,i,o,a,s,c,u,l){var d=128&n,f=1&n,p=2&n,h=24&n,v=512&n,_=p?void 0:Qr(t);return function y(){for(var m=arguments.length,g=Array(m),b=m;b--;)g[b]=arguments[b];if(h)var w=Oi(y),S=ri(g,w);if(i&&(g=ei(g,i,o,h)),a&&(g=ni(g,a,s,h)),m-=S,h&&m<l){var E=Di(g,w);return xi(t,n,e,y.placeholder,r,g,E,c,u,l-m)}var k=f?r:this,x=p?k[t]:t;return m=g.length,c?g=Ni(g,c):v&&m>1&&g.reverse(),d&&u<m&&(g.length=u),this&&this!==Ce&&this instanceof y&&(x=_||Qr(x)),x.apply(k,g)}},Mi="__lodash_placeholder__",ji=Math.min,Ri=/\s/,Li=/^\s+/,Vi=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ri.test(e.charAt(t)););return t}(e)+1).replace(Li,""):e},$i=/^[-+]0x[0-9a-f]+$/i,Ui=/^0b[01]+$/i,zi=/^0o[0-7]+$/i,Bi=parseInt,Fi=function(e){if("number"==typeof e)return e;if(Ve(e))return NaN;if(ze(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ze(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vi(e);var n=Ui.test(e);return n||zi.test(e)?Bi(e.slice(2),n?2:8):$i.test(e)?NaN:+e},Wi=function(e){return e?Infinity===(e=Fi(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Yi=function(e){var t=Wi(e),n=t%1;return t==t?n?t-n:t:0},Hi=Math.max,Gi=function(e,t,n,r,i,o,a,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),a=void 0===a?a:Hi(Yi(a),0),s=void 0===s?s:Yi(s),u-=i?i.length:0,64&t){var l=r,d=i;r=i=void 0}var f=c?void 0:si(e),p=[e,t,n,r,i,l,d,o,a,s];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?ei(c,s,t[4]):s,e[4]=c?Di(e[3],Mi):t[4]}(s=t[5])&&(c=e[5],e[5]=c?ni(c,s,t[6]):s,e[6]=c?Di(e[5],Mi):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:ji(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,f),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?c?0:e.length:Hi(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=Qr(e);return function i(){for(var o=arguments.length,a=Array(o),s=o,c=Oi(i);s--;)a[s]=arguments[s];var u=o<3&&a[0]!==c&&a[o-1]!==c?[]:Di(a,c);return(o-=u.length)<n?xi(e,t,Ti,i.placeholder,void 0,a,u,void 0,void 0,n-o):zr(this&&this!==Ce&&this instanceof i?r:e,this,a)}}(e,t,s):32!=t&&33!=t||i.length?Ti.apply(void 0,p):function(e,t,n,r){var i=1&t,o=Qr(e);return function t(){for(var a=-1,s=arguments.length,c=-1,u=r.length,l=Array(u+s),d=this&&this!==Ce&&this instanceof t?o:e;++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++a];return zr(d,i?n:this,l)}}(e,t,n,r);else var h=function(e,t,n){var r=1&t,i=Qr(e);return function t(){return(this&&this!==Ce&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return ki((f?Jr:yi)(h,p),e,t)},qi=function(e,t){return Gr(function(e,t,n){return t=Br(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Br(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),zr(e,this,s)}}(e,t,Ur),e+"")}((function(e,t){var n=Di(t,Oi(qi));return Gi(e,32,void 0,t,n)}));qi.placeholder={};var Ji=qi;const Ki=e=>e,Zi=function(){const e=(e,t)=>function(){return t(e(...arguments))};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(e)},Qi=(e,t)=>e===t,Xi=(e,t)=>Zi(t?(e=>t=>null==t?void 0:t[e])(t):Ki,Ji(Qi,e)),eo=e=>!e,to=e=>e?null==e?void 0:e.split(":"):[],no=e=>to(e)[1],ro=()=>Rt("assets_config").filter((e=>e.module===Se.adsAssetType)).find((e=>e.url.split("/").some((e=>e===Se.version)))),io=()=>{const e=ro();if(e)return e.variant},oo={row:1,column:1},ao=e=>lo(null==e?void 0:e.row)&&lo(null==e?void 0:e.column)?e:oo,so=(e,t)=>e.find((e=>e.slot&&e.slot.row===t.row&&e.slot.column===t.column)),co=e=>`row${e.row}-column${e.column}`,uo=()=>pe?window.matchMedia&&window.matchMedia("(min-width: 415px)").matches?"Tablet":w:S;var lo=e=>null!=e,fo=()=>window.__OW_CONFIG__.asset_group_id,po=e=>e instanceof Error?e:Error(String(e));const ho="_lr_env";var vo=()=>{try{const e=localStorage.getItem("SPOTIM_DEVICE_UUID_V2");return e?JSON.parse(e).uuid:null}catch{return null}},_o=()=>'(function(){try{return!!window.localStorage}catch{return!1}})()||Object.defineProperty(window,"localStorage",new function(){var e={};Object.defineProperty(e,"getItem",{value:function(e){return e?this[e]:null},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"setItem",{value:function(e,t){if(e)return this[e]=String(t)},writable:!0,configurable:!1,enumerable:!1}),Object.defineProperty(e,"removeItem",{value:function(e){if(e)return delete this[e]},writable:!0,configurable:!1,enumerable:!1}),this.get=function(){return e},this.configurable=!1,this.enumerable=!0});',yo=function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))},mo=(e,t)=>new Promise(((n,r)=>setTimeout((()=>{try{n(e())}catch(e){r(e)}}),t))),go=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=0;r<t;r++){const i=r+1;try{return 1===i?await e():await mo(e,n)}catch(e){if(i===t)throw po(e)}}},bo=window.__SPOTIM__.libSlimLauncher.analytics,wo=e=>(Wt(!0,"Sending BI event",e),(0,bo.trackEvent)(e));function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}var Eo=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return i=>t?r.default.createElement(e,So({children:i},n||{})):i},ko=()=>no(io()??""),xo=()=>{const e=io(),t=e?no(e):e,n=(()=>{const e=ro();if(!e)return;const[t]=to(e.variant);if(!t)return;const n=sr().getVariant(t);return n?`${t}:${n}`:void 0})(),r=n?no(n):n;return t&&t!==r?`${t}:${r}`:void 0},Oo=()=>Se.device,Ao=()=>{const e=performance.now()/1e3;return e<1?"<1s":e>10?">10s":`${Math.round(e)}s`},Co=()=>Se.version,Io="ad-unit-base-runtime-error",No="ad-unit-video-runtime-error",Po="ads-config-fetching-error",Do="ads-script-runtime-error",To="aniview-script-fetching-error",Mo="ats-envelope-id-caching-error",jo="ats-integration-error",Ro="render-in-iframe-error",Lo="ab-test-variant",Vo="data-source",$o="device",Uo="product",zo="timestamp",Bo="version",Fo=(e,t)=>{let{product:n}=t;Gn({metric:Io,error:zt(e,Io),tags:{[Lo]:ko(),[Uo]:n,[Bo]:Co()}})},Wo=e=>{Gn({metric:Do,error:zt(e,Do),tags:{[Lo]:ko(),[Bo]:Co()}})},Yo=e=>{Gn({metric:Ro,error:zt(e,Ro)})},Ho=()=>{qn({metric:"dfp-invalid-code-settings",options:{isDisposable:!0}})},Go=n(396),qo=n(400),Jo=n(184),Ko=n.n(Jo),Zo=function(){return Ce.Date.now()},Qo=Math.max,Xo=Math.min,ea=function(e,t,n){var r,i,o,a,s,c,u=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function h(e){return u=e,s=setTimeout(_,t),l?p(e):a}function v(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=o}function _(){var e=Zo();if(v(e))return y(e);s=setTimeout(_,function(e){var n=t-(e-c);return d?Xo(n,o-(e-u)):n}(e))}function y(e){return s=void 0,f&&r?p(e):(r=i=void 0,a)}function m(){var e=Zo(),n=v(e);if(r=arguments,i=this,c=e,n){if(void 0===s)return h(c);if(d)return clearTimeout(s),s=setTimeout(_,t),p(c)}return void 0===s&&(s=setTimeout(_,t)),a}return t=Fi(t)||0,ze(n)&&(l=!!n.leading,o=(d="maxWait"in n)?Qo(Fi(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=c=i=s=void 0},m.flush=function(){return void 0===s?a:y(Zo())},m};const ta=Lt("disable_selector","meta[name=spotim-ads][content=disable-all]"),na=()=>Boolean(window.__SPOTIM_ADS_DISABLED__),ra=e=>e.hasAttribute("disable-ad")||e.hasAttribute("data-disable-ad"),ia=(e,t)=>na()?(aa(e,t),!0):Boolean(document.querySelector(ta))?(Wt(!0,"Ads disabled by meta tag"),wa(),vr({reportingModuleName:e,campaignId:t}),qn({metric:"ad-unit-disabled-by-meta-tag",options:{isDisposable:!0}}),!0):void 0,oa=e=>{let{campaignId:t,isCampaignMissed:n,isDisabledByFeaturesConfig:r,isDisabledByHtmlAttribute:i,isDisabledByIsOptedOutFlag:o,reportingModuleName:a}=e;return na()?(aa(a,t),!0):o?(Wt(!0,'Ad unit disabled by "isOptedOut" response flag'),wa(),qn({metric:"ad-unit-disabled-by-is-opted-out-flag",options:{isDisposable:!0}}),!0):n?(Wt(!0,"Ad unit disabled by empty campaign","\nProduct:",a),(e=>{let{product:t}=e;qn({metric:"ad-unit-no-campaign",tags:{[Uo]:t}})})({product:a}),!0):r?(Wt(!0,"Ad unit disabled by features config"),(e=>{let{product:t}=e;qn({metric:"ad-unit-disabled-for-product-by-features-config",tags:{[Uo]:t}})})({product:a}),!0):i?(Wt(!0,"Ad unit disabled by html attribute","\nProduct:",a),(e=>{let{product:t}=e;qn({metric:"ad-unit-disabled-for-product-by-html-attribute",tags:{[Uo]:t}})})({product:a}),(e=>{let{reportingModuleName:t,campaignId:n}=e;hr(lr,t,n)})({reportingModuleName:a,campaignId:t}),!0):void 0},aa=(e,t)=>{na()&&(Wt(!0,"Ad unit disabled by global flag"),vr({reportingModuleName:e,campaignId:t}),qn({metric:"ad-unit-disabled-by-global-flag",options:{isDisposable:!0}}))},sa=e=>"function"==typeof window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__&&window.__SPOTIM_IS_LEGACY_VERTICAL_PITC__(e),ca=e=>{var t;const n=e.hasAttribute("data-vertical-view")||sa(e),r=null===(t=e.dataset)||void 0===t?void 0:t.pageType,i=r&&F.hasOwnProperty(r)?F[r]:"";return n?"side_rail":["pitc_hp"].includes(i)?i:"recirculation"};var ua=e=>{switch(e){case l:return"directionAbove";case d:return h;case p:return"directionRight";default:return"directionLeft"}},la={adWrapper:"ads-independent__index__adWrapper--bio_x",takeover:"ads-independent__index__takeover--_ECgu",outerWrapper:"ads-independent__index__outerWrapper--xAQRO",directionLeft:"ads-independent__index__directionLeft--Rj61L",directionRight:"ads-independent__index__directionRight--tqGnt",directionAbove:"ads-independent__index__directionAbove--yrFkB",elementWrapper:"ads-independent__index__elementWrapper--OVDor",directionBelow:"ads-independent__index__directionBelow--drPXR",adUnitWrapper:"ads-independent__index__adUnitWrapper--W2D6i",pitc:"ads-independent__index__pitc--DiAQT",recirculation:"ads-independent__index__recirculation--S2p48",reactions:"ads-independent__index__reactions--Qt2s8"};const da=()=>{const e=document.createElement("div");return e.setAttribute("product-header-placeholder",""),e},fa=e=>{let{adUnitProps:t,headerDiv:n,productContainer:r,productAndTitleContainer:i,stylingWrapper:o,target:a}=e;pa({headerDiv:n,productContainer:r,stylingWrapper:o,target:a,initialProps:t}),ha({headerDiv:n,productContainer:r,productAndTitleContainer:i,initialProps:t})},pa=e=>{let{headerDiv:t,initialProps:n,productContainer:r,stylingWrapper:i,target:o}=e;if(ua(n.adPosition||f)===h){const e=r.querySelector("[data-mini-ad-unit]");r.insertBefore(o,e)}else r.appendChild(o);n.titleBelowAd?r.insertBefore(t,o??null):i.insertBefore(t,i.firstChild)},ha=e=>{let{headerDiv:t,initialProps:n,productContainer:r,productAndTitleContainer:i}=e;const{adUnitId:o,shouldShowHeaderWhenAdNotRendered:a}=n;Kn(o,"outerAdContainer",{target:i}),Kn(o,"innerAdContainer",{target:r}),a&&Zn(o,"onHeaderSet",(e=>t.innerHTML=e))};var va="IntersectionObserver"in window;const _a=(e,t,n,r,i,o)=>{const a=Lt("enable_visibility_observer",!0),{intersection_only_products:s,threshold:c}=Lt("visibility_observer_options",{intersection_only_products:[],threshold:.1}),u={threshold:c,rootMargin:"10000px 0px",trackVisibility:!0,delay:100,...o};if(!va||!a)return Wt(!0,"Visibility Observer Disabled",{reportingModuleName:t,target:n}),r(),!0;const l=s.includes(e),d=new IntersectionObserver((e=>{ya(e,t,n,d,l,r,i)}),u),f=l&&n.parentElement?n.parentElement:n;return d.observe(f),d},ya=(e,t,n,r,i,o,a)=>{const[s]=e,c="isVisible"in s,u=c&&s.isVisible,l=!c&&s.isIntersecting||i&&s.isIntersecting;return u||l?(Wt(!0,"Visibility Observer - Ad visible",{reportingModuleName:t,target:n}),o(),r.unobserve(n),!0):(Wt(!0,"Visibility Observer - Ad hidden",{reportingModuleName:t,target:n}),a(),!1)},ma=(()=>{let e=0;return()=>(e++,e)})();var ga=e=>{let{adIndex:t,moduleName:n,postId:r,slot:i,spotId:o}=e;const a=[n,o,r,null==i?void 0:i.row,null==i?void 0:i.column,t].filter(lo).join("-");return`${ma()}-${a}`},ba={[y]:{shouldShowHeaderWhenAdNotRendered:!0,slot:V},[_]:{shouldShowHeaderWhenAdNotRendered:!0,slot:V},[v]:{moduleName:"conversation_header",slot:V,shouldShowHeaderWhenAdNotRendered:!0},[m]:{shouldShowHeaderWhenAdNotRendered:!0,slot:{row:2,column:1},reportingModuleName:"pitc_dd"},[g]:{moduleName:"reactions",center:!0,slot:V,adPosition:d},[b]:{moduleName:"topic_tracker",slot:V}},wa=()=>{window.__SPOTIM_ADS_DISABLED__=!0};const Sa=()=>new Promise((e=>{return t=e,void((r=gr("initScrollListener"))?r.then(t(n)):function(e,t){var n=br(),r=Or(n),i=Er(n),o=xr(n);wr=0,Sr=!1,r>20||o?e(t):i?n?Cr(e,t):Ar(e,t):setTimeout((function(){e(t)}),0)}(t,n));var t,n,r}));var Ea=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t=ao(t),!t||!e)return;const r=so(e,t)??(!n&&so(e,oo));return r||void 0};const ka=e=>Number.isInteger(e)&&e>0;var xa=(e,t)=>{(0,r.useEffect)((()=>{const t=e();return()=>{t.then((e=>null!=e&&e()))}}),t)},Oa={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Aa;const Ca=new Uint8Array(16);function Ia(){if(!Aa&&(Aa="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Aa(Ca)}const Na=[];for(let e=0;e<256;++e)Na.push((e+256).toString(16).slice(1));var Pa=function(e,t,n){if(Oa.randomUUID&&!t&&!e)return Oa.randomUUID();const r=(e=e||{}).random||(e.rng||Ia)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Na[e[t+0]]+Na[e[t+1]]+Na[e[t+2]]+Na[e[t+3]]+"-"+Na[e[t+4]]+Na[e[t+5]]+"-"+Na[e[t+6]]+Na[e[t+7]]+"-"+Na[e[t+8]]+Na[e[t+9]]+"-"+Na[e[t+10]]+Na[e[t+11]]+Na[e[t+12]]+Na[e[t+13]]+Na[e[t+14]]+Na[e[t+15]]).toLowerCase()}(r)},Da=()=>`call_${(()=>{const[e]=(0,r.useState)((()=>Pa()));return e})()}`;function Ta(e){var t=this.__data__=new lt(e);this.size=t.size}Ta.prototype.clear=function(){this.__data__=new lt,this.size=0},Ta.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ta.prototype.get=function(e){return this.__data__.get(e)},Ta.prototype.has=function(e){return this.__data__.has(e)},Ta.prototype.set=function(e,t){var n=this.__data__;if(n instanceof lt){var r=n.__data__;if(!dt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ht(r)}return n.set(e,t),this.size=n.size,this};var Ma=Ta;function ja(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ht;++t<n;)this.add(e[t])}ja.prototype.add=ja.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ja.prototype.has=function(e){return this.__data__.has(e)};var Ra=ja,La=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Va=function(e,t){return e.has(t)},$a=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,p=2&n?new Ra:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var _=a?r(v,h,d,t,e,o):r(h,v,d,e,t,o);if(void 0!==_){if(_)continue;f=!1;break}if(p){if(!La(t,(function(e,t){if(!Va(p,t)&&(h===e||i(h,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f},Ua=Ce.Uint8Array,za=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},Ba=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Fa=Ie?Ie.prototype:void 0,Wa=Fa?Fa.valueOf:void 0,Ya=Object.prototype.propertyIsEnumerable,Ha=Object.getOwnPropertySymbols,Ga=Ha?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(Ha(e),(function(t){return Ya.call(e,t)})))}:function(){return[]},qa=Object.prototype.hasOwnProperty,Ja=function(e,t){var n=xe(e),r=!n&&En(e),i=!n&&!r&&In(e),o=!n&&!r&&!i&&Rn(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!qa.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ci(u,c))||s.push(u);return s},Ka=function(e){return xn(e)?Ja(e):en(e)},Za=function(e){return function(e,t,n){var r=t(e);return xe(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ka,Ga)},Qa=Object.prototype.hasOwnProperty,Xa="[object Arguments]",es="[object Array]",ts="[object Object]",ns=Object.prototype.hasOwnProperty,rs=function(e,t,n,r,i,o){var a=xe(e),s=xe(t),c=a?es:yn(e),u=s?es:yn(t),l=(c=c==Xa?ts:c)==ts,d=(u=u==Xa?ts:u)==ts,f=c==u;if(f&&In(e)){if(!In(t))return!1;a=!0,l=!1}if(f&&!l)return o||(o=new Ma),a||Rn(e)?$a(e,t,n,r,i,o):function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ua(e),new Ua(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return at(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=za;case"[object Set]":var c=1&r;if(s||(s=Ba),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=$a(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(Wa)return Wa.call(e)==Wa.call(t)}return!1}(e,t,c,n,r,i,o);if(!(1&n)){var p=l&&ns.call(e,"__wrapped__"),h=d&&ns.call(t,"__wrapped__");if(p||h){var v=p?e.value():e,_=h?t.value():t;return o||(o=new Ma),i(v,_,n,r,o)}}return!!f&&(o||(o=new Ma),function(e,t,n,r,i,o){var a=1&n,s=Za(e),c=s.length;if(c!=Za(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Qa.call(t,l)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var p=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){var v=e[l=s[u]],_=t[l];if(r)var y=a?r(_,v,l,t,e,o):r(v,_,l,e,t,o);if(!(void 0===y?v===_||i(v,_,n,r,o):y)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var m=e.constructor,g=t.constructor;m==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(p=!1)}return o.delete(e),o.delete(t),p}(e,t,n,r,i,o))},is=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Le(t)&&!Le(n)?t!=t&&n!=n:rs(t,n,r,i,e,o))},os=function(e,t){return is(e,t)};var as=function(e){let{intersectionObserverOptions:t,isEnabled:n,target:i,callback:o}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const s=(0,r.useCallback)((()=>{if(!i)return;const e=new IntersectionObserver(o,t);return e.observe(i),()=>e.disconnect()}),[i,...a]);(0,r.useEffect)((()=>{if(!n)return;const e=s();return()=>{e&&e()}}),[n,s])},ss="IN_VIEW",cs="OUT_OF_VIEW_BOTTOM",us="OUT_OF_VIEW_TOP",ls=function(e){let{intersectionObserverOptions:t,isEnabled:n,target:r,callback:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return as({intersectionObserverOptions:t,isEnabled:n,target:r,callback:e=>{const t=e.sort(((e,t)=>e.time-t.time)),n=t[t.length-1];n&&(n.isIntersecting?i(ss,n):n.boundingClientRect.top<0?i(cs,n):i(us,n))}},o)},ds=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ze(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ea(e,t,{leading:r,maxWait:t,trailing:i})},fs=function(e){let{isEnabled:t,callback:n}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const o=(0,r.useCallback)((()=>{const e=ds(n,100);return n(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[...i]);(0,r.useEffect)((()=>{if(!t)return;const e=o();return()=>{e&&e()}}),[t,o])};const ps=(e,t)=>e===t;function hs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ps;const n=(0,r.useRef)(),i=(0,r.useRef)(e);return t(i.current,e)||(n.current=i.current,i.current=e),n.current}var vs,_s,ys=function(e){return!0===e||!1===e||Le(e)&&"[object Boolean]"==Re(e)},ms=(0,r.createContext)(void 0),gs=n(798),bs=function(){return bs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},bs.apply(this,arguments)};function ws(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ss(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Es(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ks(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}!function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"}(vs||(vs={})),function(e){e.Parent="#_parent",e.Internal="#_internal"}(_s||(_s={}));var xs,Os={},As="xstate.guard";function Cs(e,t,n){void 0===n&&(n=".");var r=Ps(e,n),i=Ps(t,n);return Hs(i)?!!Hs(r)&&i===r:Hs(r)?r in i:Object.keys(r).every((function(e){return e in i&&Cs(r[e],i[e])}))}function Is(e){try{return Hs(e)||"number"==typeof e?"".concat(e):e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function Ns(e,t){try{return Ws(e)?e:e.toString().split(t)}catch(t){throw new Error("'".concat(e,"' is not a valid state path."))}}function Ps(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:Ws(e)?Ds(e):"string"!=typeof e?e:Ds(Ns(e,t));var n}function Ds(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function Ts(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function Ms(e,t,n){var r,i,o={};try{for(var a=Ss(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];n(u)&&(o[c]=t(u,c,e))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}var js=function(e){return function(t){var n,r,i=t;try{for(var o=Ss(e),a=o.next();!a.done;a=o.next())i=i[a.value]}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}};function Rs(e){return e?Hs(e)?[[e]]:Ls(Object.keys(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?Rs(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function Ls(e){var t;return(t=[]).concat.apply(t,ks([],Es(e),!1))}function Vs(e){return Ws(e)?e:[e]}function $s(e){return void 0===e?[]:Vs(e)}function Us(e,t,n){var r,i;if(Ys(e))return e(t,n.data);var o={};try{for(var a=Ss(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];Ys(u)?o[c]=u(t,n.data):o[c]=u}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function zs(e){return e instanceof Promise||!(null===e||!Ys(e)&&"object"!=typeof e||!Ys(e.then))}function Bs(e,t){return Ts(e.states,(function(e,n){if(e){var r=(Hs(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:Bs(e,r)}}}))}function Fs(e,t,n,r){var i=e?n.reduce((function(e,n){var i,o,a=n.assignment,s={state:r,action:n,_event:t},c={};if(Ys(a))c=a(e,t.data,s);else try{for(var u=Ss(Object.keys(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=a[d];c[d]=Ys(f)?f(e,t.data,s):f}}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return Object.assign({},e,c)}),e):e;return i}function Ws(e){return Array.isArray(e)}function Ys(e){return"function"==typeof e}function Hs(e){return"string"==typeof e}function Gs(e,t){if(e)return Hs(e)?{type:As,name:e,predicate:t?t[e]:void 0}:Ys(e)?{type:As,name:e.name,predicate:e}:e}var qs=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Js(e){return!!e&&"__xstatenode"in e}function Ks(e,t){return Hs(e)||"number"==typeof e?bs({type:e},t):e}function Zs(e,t){if(!Hs(e)&&"$$type"in e&&"scxml"===e.$$type)return e;var n=Ks(e);return bs({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function Qs(e,t){return Vs(t).map((function(t){return void 0===t||"string"==typeof t||Js(t)?{target:t,event:e}:bs(bs({},t),{event:e})}))}function Xs(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===As)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=null==o?void 0:o[t.type];if(!s)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return s(n,r.data,a)}function ec(e){return"string"==typeof e?{type:e}:e}function tc(e,t,n){var r=function(){},i="object"==typeof e,o=i?e:null;return{next:((i?e.next:e)||r).bind(o),error:((i?e.error:t)||r).bind(o),complete:((i?e.complete:n)||r).bind(o)}}function nc(e,t){return"".concat(e,":invocation[").concat(t,"]")}(xs={})[qs]=function(){return this},xs[Symbol.observable]=function(){return this};var rc=function(e){return"atomic"===e.type||"final"===e.type};function ic(e){return Object.keys(e.states).map((function(t){return e.states[t]}))}function oc(e){return ic(e).filter((function(e){return"history"!==e.type}))}function ac(e){var t=[e];return rc(e)?t:t.concat(Ls(oc(e).map(ac)))}function sc(e,t){var n,r,i,o,a,s,c,u,l=uc(new Set(e)),d=new Set(t);try{for(var f=Ss(d),p=f.next();!p.done;p=f.next())for(var h=(E=p.value).parent;h&&!d.has(h);)d.add(h),h=h.parent}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var v=uc(d);try{for(var _=Ss(d),y=_.next();!y.done;y=_.next())if("compound"!==(E=y.value).type||v.get(E)&&v.get(E).length){if("parallel"===E.type)try{for(var m=(a=void 0,Ss(oc(E))),g=m.next();!g.done;g=m.next()){var b=g.value;d.has(b)||(d.add(b),l.get(b)?l.get(b).forEach((function(e){return d.add(e)})):b.initialStateNodes.forEach((function(e){return d.add(e)})))}}catch(e){a={error:e}}finally{try{g&&!g.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}}else l.get(E)?l.get(E).forEach((function(e){return d.add(e)})):E.initialStateNodes.forEach((function(e){return d.add(e)}))}catch(e){i={error:e}}finally{try{y&&!y.done&&(o=_.return)&&o.call(_)}finally{if(i)throw i.error}}try{for(var w=Ss(d),S=w.next();!S.done;S=w.next()){var E;for(h=(E=S.value).parent;h&&!d.has(h);)d.add(h),h=h.parent}}catch(e){c={error:e}}finally{try{S&&!S.done&&(u=w.return)&&u.call(w)}finally{if(c)throw c.error}}return d}function cc(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(rc(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=cc(e,t)})),i}function uc(e){var t,n,r=new Map;try{for(var i=Ss(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.has(a)||r.set(a,[]),a.parent&&(r.has(a.parent)||r.set(a.parent,[]),r.get(a.parent).push(a))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function lc(e,t){return cc(e,uc(sc([e],t)))}function dc(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function fc(e,t){return"compound"===t.type?oc(t).some((function(t){return"final"===t.type&&dc(e,t)})):"parallel"===t.type&&oc(t).every((function(t){return fc(e,t)}))}function pc(e){return new Set(Ls(e.map((function(e){return e.tags}))))}var hc=vs.Start,vc=vs.Stop,_c=vs.Raise,yc=vs.Send,mc=vs.Cancel,gc=vs.NullEvent,bc=vs.Assign,wc=vs.After,Sc=vs.DoneState,Ec=vs.Log,kc=vs.Init,xc=vs.Invoke,Oc=vs.ErrorExecution,Ac=vs.ErrorPlatform,Cc=vs.ErrorCustom,Ic=vs.Update,Nc=vs.Choose,Pc=vs.Pure,Dc=Zs({type:kc});function Tc(e,t){return t&&t[e]||void 0}function Mc(e,t){var n;if(Hs(e)||"number"==typeof e)n=Ys(r=Tc(e,t))?{type:e,exec:r}:r||{type:e,exec:void 0};else if(Ys(e))n={type:e.name||e.toString(),exec:e};else{var r;if(Ys(r=Tc(e.type,t)))n=bs(bs({},e),{exec:r});else if(r){var i=r.type||e.type;n=bs(bs(bs({},r),e),{type:i})}else n=e}return n}var jc=function(e,t){return e?(Ws(e)?e:[e]).map((function(e){return Mc(e,t)})):[]};function Rc(e){var t=Mc(e);return bs(bs({id:Hs(e)?e:t.id},t),{type:t.type})}function Lc(e){return Hs(e)?{type:_c,event:e}:$c(e,{to:_s.Internal})}function Vc(e){return{type:_c,_event:Zs(e.event)}}function $c(e,t){return{to:t?t.to:void 0,type:yc,event:Ys(e)?e:Ks(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:Ys(e)?e.name:Is(e)}}function Uc(e,t,n,r){var i,o={_event:n},a=Zs(Ys(e.event)?e.event(t,n.data,o):e.event);if(Hs(e.delay)){var s=r&&r[e.delay];i=Ys(s)?s(t,n.data,o):s}else i=Ys(e.delay)?e.delay(t,n.data,o):e.delay;var c=Ys(e.to)?e.to(t,n.data,o):e.to;return bs(bs({},e),{to:c,_event:a,event:a.data,delay:i})}function zc(e,t){return $c(e,bs(bs({},t),{to:_s.Parent}))}function Bc(e,t,n){return $c(t,bs(bs({},n),{to:e}))}function Fc(){return zc(Ic)}function Wc(e,t){return $c(e,bs(bs({},t),{to:function(e,t,n){return n._event.origin}}))}var Yc=function(e,t){return{context:e,event:t}};function Hc(e,t){return void 0===e&&(e=Yc),{type:Ec,label:t,expr:e}}var Gc=function(e,t,n){return bs(bs({},e),{value:Hs(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},qc=function(e){return{type:mc,sendId:e}};function Jc(e){var t=Rc(e);return{type:vs.Start,activity:t,exec:void 0}}function Kc(e){var t=Ys(e)?e:Rc(e);return{type:vs.Stop,activity:t,exec:void 0}}function Zc(e,t,n){var r=Ys(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:vs.Stop,activity:i}}var Qc=function(e){return{type:bc,assignment:e}};function Xc(e){return"object"==typeof e&&"type"in e}function eu(e,t){var n=t?"#".concat(t):"";return"".concat(vs.After,"(").concat(e,")").concat(n)}function tu(e,t){var n="".concat(vs.DoneState,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function nu(e,t){var n="".concat(vs.DoneInvoke,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function ru(e,t){var n="".concat(vs.ErrorPlatform,".").concat(e);return{type:n,data:t,toString:function(){return n}}}function iu(e){return{type:vs.Pure,get:e}}function ou(e,t){return $c((function(e,t){return t}),bs(bs({},t),{to:e}))}function au(e,t){return zc((function(t,n,r){return{type:Cc,data:Ys(e)?e(t,n,r):e}}),bs(bs({},t),{to:_s.Parent}))}function su(e){return{type:vs.Choose,conds:e}}function cu(e,t,n,r,i,o,a){void 0===a&&(a=!1);var s=a?[]:function(e){var t,n,r=[];try{for(var i=Ss(e),o=i.next();!o.done;o=i.next())for(var a=o.value,s=0;s<a.length;)a[s].type!==bc?s++:(r.push(a[s]),a.splice(s,1))}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(i),c=s.length?Fs(n,r,s,t):n,u=a?[n]:void 0,l=[];function d(i){var s;switch(i.type){case _c:return Vc(i);case yc:var d=Uc(i,c,r,e.options.delays);return o&&d.to!==_s.Internal&&l.push(d),d;case Ec:var f=Gc(i,c,r);return null==o||o(f,c,r),f;case Nc:if(!(_=null===(s=i.conds.find((function(n){var i=Gs(n.cond,e.options.guards);return!i||Xs(e,i,c,r,o?void 0:t)})))||void 0===s?void 0:s.actions))return[];var p=Es(cu(e,t,c,r,[jc($s(_),e.options.actions)],o,a),2),h=p[0],v=p[1];return c=v,null==u||u.push(c),h;case Pc:var _;if(!(_=i.get(c,r.data)))return[];var y=Es(cu(e,t,c,r,[jc($s(_),e.options.actions)],o,a),2),m=y[0],g=y[1];return c=g,null==u||u.push(c),m;case vc:return f=Zc(i,c,r),null==o||o(f,n,r),f;case bc:c=Fs(c,r,[i],o?void 0:t),null==u||u.push(c);break;default:var b=Mc(i,e.options.actions),w=b.exec;if(o)o(b,c,r);else if(w&&u){var S=u.length-1;b=bs(bs({},b),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];w.apply(void 0,ks([u[S]],Es(t),!1))}})}return b}}var f=Ls(i.map((function(e){var t,n,i=[];try{for(var a=Ss(e),s=a.next();!s.done;s=a.next()){var u=d(s.value);u&&(i=i.concat(u))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return l.forEach((function(e){o(e,c,r)})),l.length=0,i})));return[f,c]}function uu(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(Hs(e)||Hs(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return uu(e[n],t[n])}))}var lu=function(){function e(e){var t,n,r=this;this.actions=[],this.activities=Os,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||Os,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return ks([],Es(new Set(Ls(ks([],Es(e.map((function(e){return e.ownEvents}))),!1)))),!1)}(r.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:Dc,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Dc;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),Hs(e))return[e];var r=Object.keys(e);return r.concat.apply(r,ks([],Es(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var t=e.tags;e.machine;var n=ws(e,["configuration","transitions","tags","machine"]);return bs(bs({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return Cs(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;this.machine;var n=null===(t=this.machine)||void 0===t?void 0:t.getTransitionData(this,e);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some((function(e){return void 0!==e.target||e.actions.length}))},e}(),du={deferEvents:!1},fu=function(){function e(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=bs(bs({},du),e)}return e.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},e.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},e.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},e}(),pu=[],hu=function(e,t){pu.push(e);var n=t(e);return pu.pop(),n};function vu(e){var t;return(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}})[qs]=function(){return this},t}function _u(e,t,n){var r=vu(t);if(r.deferred=!0,Js(e)){var i=r.state=hu(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}var yu=new Map,mu=0;function gu(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:void 0}var bu,wu,Su={sync:!1,autoForward:!1};(wu=bu||(bu={}))[wu.NotStarted=0]="NotStarted",wu[wu.Running=1]="Running",wu[wu.Stopped=2]="Stopped";var Eu=function(){function e(t,n){void 0===n&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=bu.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(e,t){if(Ws(e))return r.batch(e),r.state;var n=Zs(Ks(e,t));if(r.status===bu.Stopped)return r.state;if(r.status!==bu.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(r.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return r.scheduler.schedule((function(){r.forward(n);var e=r._nextState(n);r.update(e,n)})),r._state},this.sendTo=function(e,t,n){var i,o=r.parent&&(t===_s.Parent||r.parent.id===t),a=o?r.parent:Hs(t)?r.children.get(t)||function(e){return yu.get(e)}(t):(i=t)&&"function"==typeof i.send?t:void 0;if(a)if("machine"in a){if(r.status!==bu.Stopped||r.parent!==a||r.state.done){var s=bs(bs({},e),{name:e.name===Cc?"".concat(ru(r.id)):e.name,origin:r.sessionId});!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,s]):a.send(s)}}else!n&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([a,e.data]):a.send(e.data);else if(!o)throw new Error("Unable to send event to child '".concat(t,"' from service '").concat(r.id,"'."))},this._exec=function(e,t,n,i){void 0===i&&(i=r.machine.options.actions);var o=e.exec||Tc(e.type,i),a=Ys(o)?o:o?o.exec:e.exec;if(a)try{return a(t,n.data,r.machine.config.predictableActionArguments?{action:e,_event:n}:{action:e,state:r.state,_event:n})}catch(e){throw r.parent&&r.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case yc:var s=e;if("number"==typeof s.delay)return void r.defer(s);s.to?r.sendTo(s._event,s.to,n===Dc):r.send(s._event);break;case mc:r.cancel(e.sendId);break;case hc:if(r.status!==bu.Running)return;var c=e.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[c.id||c.type])break;if(c.type===vs.Invoke){var u=ec(c.src),l=r.machine.options.services?r.machine.options.services[u.type]:void 0,d=c.id,f=c.data,p="autoForward"in c?c.autoForward:!!c.forward;if(!l)return;var h=f?Us(f,t,n):void 0;if("string"==typeof l)return;var v=Ys(l)?l(t,n.data,{data:h,src:u,meta:c.meta}):l;if(!v)return;var _=void 0;Js(v)&&(v=h?v.withContext(h):v,_={autoForward:p}),r.spawn(v,d,_)}else r.spawnActivity(c);break;case vc:r.stopChild(e.activity.id);break;case Ec:var y=e.label,m=e.value;y?r.logger(y,m):r.logger(m)}};var i=bs(bs({},e.defaultOptions),n),o=i.clock,a=i.logger,s=i.parent,c=i.id,u=void 0!==c?c:t.id;this.id=u,this.logger=a,this.clock=o,this.parent=s,this.options=i,this.scheduler=new fu({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(mu++)}return Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:hu(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(e,t){var n,r;try{for(var i=Ss(e.actions),o=i.next();!o.done;o=i.next()){var a=o.value;this.exec(a,e,t)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.update=function(e,t){var n,r,i,o,a,s,c,u,l=this;if(e._sessionid=this.sessionId,this._state=e,this.machine.config.predictableActionArguments&&t!==Dc||!this.options.execute)for(var d=void 0;d=this._outgoingQueue.shift();)d[0].send(d[1]);else this.execute(this.state);if(this.children.forEach((function(e){l.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=Ss(this.eventListeners),p=f.next();!p.done;p=f.next())(0,p.value)(e.event)}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var h=Ss(this.listeners),v=h.next();!v.done;v=h.next())(0,v.value)(e,e.event)}catch(e){i={error:e}}finally{try{v&&!v.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}try{for(var _=Ss(this.contextListeners),y=_.next();!y.done;y=_.next())(0,y.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){a={error:e}}finally{try{y&&!y.done&&(s=_.return)&&s.call(_)}finally{if(a)throw a.error}}if(this.state.done){var m=e.configuration.find((function(e){return"final"===e.type&&e.parent===l.machine})),g=m&&m.doneData?Us(m.doneData,e.context,t):void 0;try{for(var b=Ss(this.doneListeners),w=b.next();!w.done;w=b.next())(0,w.value)(nu(this.id,g))}catch(e){c={error:e}}finally{try{w&&!w.done&&(u=b.return)&&u.call(b)}finally{if(c)throw c.error}}this._stop(),this._stopChildren()}},e.prototype.onTransition=function(e){return this.listeners.add(e),this.status===bu.Running&&e(this.state,this.state.event),this},e.prototype.subscribe=function(e,t,n){var r=this,i=tc(e,t,n);this.listeners.add(i.next),this.status!==bu.NotStarted&&i.next(this.state);var o=function(){r.doneListeners.delete(o),r.stopListeners.delete(o),i.complete()};return this.status===bu.Stopped?i.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){r.listeners.delete(i.next),r.doneListeners.delete(o),r.stopListeners.delete(o)}}},e.prototype.onEvent=function(e){return this.eventListeners.add(e),this},e.prototype.onSend=function(e){return this.sendListeners.add(e),this},e.prototype.onChange=function(e){return this.contextListeners.add(e),this},e.prototype.onStop=function(e){return this.stopListeners.add(e),this},e.prototype.onDone=function(e){return this.doneListeners.add(e),this},e.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},e.prototype.start=function(e){var t,n,r=this;if(this.status===bu.Running)return this;this.machine._init(),t=this.sessionId,n=this,yu.set(t,n),this.initialized=!0,this.status=bu.Running;var i=void 0===e?this.initialState:hu(this,(function(){return"object"==typeof(t=e)&&null!==t&&"value"in t&&"_event"in t?r.machine.resolveState(e):r.machine.resolveState(lu.from(e,r.machine.context));var t}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(i,Dc)})),this},e.prototype._stopChildren=function(){this.children.forEach((function(e){Ys(e.stop)&&e.stop()})),this.children.clear()},e.prototype._stop=function(){var e,t,n,r,i,o,a,s,c,u;try{for(var l=Ss(this.listeners),d=l.next();!d.done;d=l.next()){var f=d.value;this.listeners.delete(f)}}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}try{for(var p=Ss(this.stopListeners),h=p.next();!h.done;h=p.next())(f=h.value)(),this.stopListeners.delete(f)}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var v=Ss(this.contextListeners),_=v.next();!_.done;_=v.next())f=_.value,this.contextListeners.delete(f)}catch(e){i={error:e}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}try{for(var y=Ss(this.doneListeners),m=y.next();!m.done;m=y.next())f=m.value,this.doneListeners.delete(f)}catch(e){a={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=bu.Stopped,this._initialState=void 0;try{for(var g=Ss(Object.keys(this.delayedEventsMap)),b=g.next();!b.done;b=g.next()){var w=b.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch(e){c={error:e}}finally{try{b&&!b.done&&(u=g.return)&&u.call(g)}finally{if(c)throw c.error}}this.scheduler.clear(),this.scheduler=new fu({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var e=this,t=this.scheduler;return this._stop(),t.schedule((function(){var t,n=Zs({type:"xstate.stop"}),r=hu(e,(function(){var t=Ls(ks([],Es(e.state.configuration),!1).sort((function(e,t){return t.order-e.order})).map((function(t){return jc(t.onExit,e.machine.options.actions)}))),r=Es(cu(e.machine,e.state,e.state.context,n,[t],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),i=r[0],o=r[1],a=new lu({value:e.state.value,context:o,_event:n,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:i.filter((function(e){return e.type!==_c&&(e.type!==yc||!!e.to&&e.to!==_s.Internal)})),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return a.changed=!0,a}));e.update(r,n),e._stopChildren(),t=e.sessionId,yu.delete(t)})),this},e.prototype.batch=function(e){var t=this;if(this.status===bu.NotStarted&&this.options.deferEvents);else if(this.status!==bu.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));if(e.length){var n=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule((function(){var r,i,o=t.state,a=!1,s=[],c=function(e){var r=Zs(e);t.forward(r),o=hu(t,(function(){return t.machine.transition(o,r,void 0,n||void 0)})),s.push.apply(s,ks([],Es(t.machine.config.predictableActionArguments?o.actions:o.actions.map((function(e){return function(e,t){var n=e.exec;return bs(bs({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})}(e,o)}))),!1)),a=a||!!o.changed};try{for(var u=Ss(e),l=u.next();!l.done;l=u.next())c(l.value)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}o.changed=a,o.actions=s,t.update(o,Zs(e[e.length-1]))}))}},e.prototype.sender=function(e){return this.send.bind(this,e)},e.prototype._nextState=function(e,t){var n=this;void 0===t&&(t=!!this.machine.config.predictableActionArguments&&this._exec);var r=Zs(e);if(0===r.name.indexOf(Ac)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(Ac)})))throw r.data.data;return hu(this,(function(){return n.machine.transition(n.state,r,void 0,t||void 0)}))},e.prototype.nextState=function(e){return this._nextState(e,!1)},e.prototype.forward=function(e){var t,n;try{for(var r=Ss(this.forwardTo),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to,!0):t.send(e._event)}),e.delay)},e.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},e.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions),this._exec(e,t.context,t._event,n)},e.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},e.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),Ys(t.stop)&&t.stop())},e.prototype.spawn=function(e,t,n){if(this.status!==bu.Running)return _u(e,t);if(zs(e))return this.spawnPromise(Promise.resolve(e),t);if(Ys(e))return this.spawnCallback(e,t);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(i=e)&&"id"in i)return this.spawnActor(e,t);if(function(e){try{return"subscribe"in e&&Ys(e.subscribe)}catch(e){return!1}}(e))return this.spawnObservable(e,t);if(Js(e))return this.spawnMachine(e,bs(bs({},n),{id:t}));if(null!==(r=e)&&"object"==typeof r&&"transition"in r&&"function"==typeof r.transition)return this.spawnBehavior(e,t);throw new Error('Unable to spawn entity "'.concat(t,'" of type "').concat(typeof e,'".'));var r,i},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var i=new e(t,bs(bs({},this.options),{parent:this,id:n.id||t.id})),o=bs(bs({},Su),n);o.sync&&i.onTransition((function(e){r.send(Ic,{state:e,id:i.id})}));var a=i;return this.children.set(i.id,a),o.autoForward&&this.forwardTo.add(i.id),i.onDone((function(e){r.removeChild(i.id),r.send(Zs(e,{origin:i.id}))})).start(),a},e.prototype.spawnBehavior=function(e,t){var n=function(e,t){void 0===t&&(t={});var n=e.initialState,r=new Set,i=[],o=!1,a=function(e){var t;return bs(((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[qs]=function(){return this},t),e)}({id:t.id,send:function(t){i.push(t),function(){if(!o){for(o=!0;i.length>0;){var t=i.shift();n=e.transition(n,t,s),r.forEach((function(e){return e.next(n)}))}o=!1}}()},getSnapshot:function(){return n},subscribe:function(e,t,i){var o=tc(e,t,i);return r.add(o),o.next(n),{unsubscribe:function(){r.delete(o)}}}}),s={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(s):n,a}(e,{id:t,parent:this});return this.children.set(t,n),n},e.prototype.spawnPromise=function(e,t){var n,r,i=this,o=!1;e.then((function(e){o||(r=e,i.removeChild(t),i.send(Zs(nu(t,e),{origin:t})))}),(function(e){if(!o){i.removeChild(t);var n=ru(t,e);try{i.send(Zs(n,{origin:t}))}catch(e){i.devTools&&i.devTools.send(n,i.state),i.machine.strict&&i.stop()}}}));var a=((n={id:t,send:function(){},subscribe:function(t,n,r){var i=tc(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[qs]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnCallback=function(e,t){var n,r,i,o=this,a=!1,s=new Set,c=new Set;try{i=e((function(e){r=e,c.forEach((function(t){return t(e)})),a||o.send(Zs(e,{origin:t}))}),(function(e){s.add(e)}))}catch(e){this.send(ru(t,e))}if(zs(i))return this.spawnPromise(i,t);var u=((n={id:t,send:function(e){return s.forEach((function(t){return t(e)}))},subscribe:function(e){var t=tc(e);return c.add(t.next),{unsubscribe:function(){c.delete(t.next)}}},stop:function(){a=!0,Ys(i)&&i()},toJSON:function(){return{id:t}},getSnapshot:function(){return r}})[qs]=function(){return this},n);return this.children.set(t,u),u},e.prototype.spawnObservable=function(e,t){var n,r,i=this,o=e.subscribe((function(e){r=e,i.send(Zs(e,{origin:t}))}),(function(e){i.removeChild(t),i.send(Zs(ru(t,e),{origin:t}))}),(function(){i.removeChild(t),i.send(Zs(nu(t),{origin:t}))})),a=((n={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return r},toJSON:function(){return{id:t}}})[qs]=function(){return this},n);return this.children.set(t,a),a},e.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},e.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},e.prototype.spawnEffect=function(e,t){var n;this.children.set(e,((n={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})[qs]=function(){return this},n))},e.prototype.attachDev=function(){var e=gu();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var t="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(bs(bs({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},t),{features:bs({jump:!1,skip:!1},t?t.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(gu()){var t=function(){var e=gu();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[qs]=function(){return this},e.prototype.getSnapshot=function(){return this.status===bu.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},e.interpret=ku,e}();function ku(e,t){return new Eu(e,t)}var xu=r.useLayoutEffect;function Ou(e){var t=r.useRef();return t.current||(t.current={v:e()}),t.current.v}var Au=function(){return Au=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Au.apply(this,arguments)};function Cu(e,t){var n=Ou((function(){return"function"==typeof e?e():e})),r=t.context,i=t.guards,o=t.actions,a=t.activities,s=t.services,c=t.delays,u=(t.state,function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(t,["context","guards","actions","activities","services","delays","state"])),l=Ou((function(){var e={context:r,guards:i,actions:o,activities:a,services:s,delays:c};return ku(n.withConfig(e,(function(){return Au(Au({},n.context),r)})),u)}));return xu((function(){Object.assign(l.machine.options.actions,o),Object.assign(l.machine.options.guards,i),Object.assign(l.machine.options.activities,a),Object.assign(l.machine.options.services,s),Object.assign(l.machine.options.delays,c)}),[o,i,a,s,c]),l}var Iu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Nu(e){return e}var Pu=e=>{let{machine:t,children:n}=e;const[,,i]=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Iu(t,1)[0],o=void 0===i?{}:i,a=Cu(e,o),s=(0,r.useCallback)((function(){return a.status===bu.NotStarted?o.state?lu.create(o.state):a.machine.initialState:a.state}),[a]),c=(0,r.useCallback)((function(e,t){if(a.status===bu.NotStarted)return!0;var n=void 0===t.changed&&(Object.keys(t.children).length>0||"boolean"==typeof e.changed);return!(t.changed||n)}),[a]),u=(0,r.useCallback)((function(e){return a.subscribe(e).unsubscribe}),[a]),l=(0,gs.useSyncExternalStoreWithSelector)(u,s,s,Nu,c);return(0,r.useEffect)((function(){var e=o.state;return a.start(e?lu.create(e):void 0),function(){a.stop(),a.status=bu.NotStarted}}),[]),[l,a.send,a]}(t),o=i;return(0,r.useEffect)((()=>{Se.isDebugMode&&Se.isVerboseLoggingEnabled&&(e=>{e.subscribe((e=>{Wt(!0,"XState event",e)}))})(o)}),[]),r.default.createElement(ms.Provider,{value:o},n)},Du=n(688);function Tu(e){return"deferred"in e}function Mu(e){return"getSnapshot"in e?e.getSnapshot():function(e){return"state"in e}(e)?e.state:void 0}var ju=function(){const e=(0,r.useContext)(ms);if(void 0===e)throw new Error("useAdFlow must be used within a FlowContext.Provider");return function(e,t){void 0===t&&(t=Mu);var n=(0,r.useRef)(e),i=(0,r.useRef)([]),o=(0,r.useCallback)((function(t){return e.subscribe(t).unsubscribe}),[e]),a=(0,r.useCallback)((function(){return t(e)}),[e,t]),s=(0,Du.useSyncExternalStore)(o,a,a),c=Ou((function(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],o=n.current;Tu(o)&&o.deferred?i.current.push(r):o.send(r)}}));return xu((function(){for(n.current=e;i.current.length>0;){var t=i.current.shift();e.send(t)}}),[e]),[s,c]}(e)};const Ru=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>!t.map((t=>t(e))).includes(!1)},Lu=(e,t)=>t.map((t=>e.matches(t))).includes(!0);var Vu="AD_UNIT_DISABLED",$u="DISPLAY_RESIZE",Uu="VIDEO_DONE",zu="VIDEO_ERROR",Bu="SET_IS_STICKY_DESKTOP_RUNNING";function Fu(e){return bs(bs({type:xc},e),{toJSON:function(){e.onDone,e.onError;var t,n=ws(e,["onDone","onError"]);return bs(bs({},n),{type:xc,src:(t=e.src,"string"==typeof t?{type:t,toString:function(){return t}}:t)})}})}var Wu={},Yu=function(e){return"#"===e[0]},Hu=function(){function e(t,n,r,i){void 0===r&&(r="context"in t?t.context:void 0);var o,a=this;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==i?void 0:i.parent,this.key=this.config.key||(null==i?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||ks([this.machine.key],Es(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Ts(this.config.states,(function(t,n){var r,i=new e(t,{},void 0,{parent:a,key:n});return Object.assign(a.idMap,bs(((r={})[i.id]=i,r),i.idMap)),i})):Wu;var s=0;!function e(t){var n,r;t.order=s++;try{for(var i=Ss(ic(t)),o=i.next();!o.done;o=i.next())e(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return""===e.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=$s(this.config.entry||this.config.onEntry).map((function(e){return Mc(e)})),this.onExit=$s(this.config.exit||this.config.onExit).map((function(e){return Mc(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=$s(this.config.invoke).map((function(e,t){var n,r;if(Js(e)){var i=nc(a.id,t);return a.machine.options.services=bs(((n={})[i]=e,n),a.machine.options.services),Fu({src:i,id:i})}if(Hs(e.src))return i=e.id||nc(a.id,t),Fu(bs(bs({},e),{id:i,src:e.src}));if(Js(e.src)||Ys(e.src))return i=e.id||nc(a.id,t),a.machine.options.services=bs(((r={})[i]=e.src,r),a.machine.options.services),Fu(bs(bs({id:i},e),{src:i}));var o=e.src;return Fu(bs(bs({id:nc(a.id,t)},e),{src:o}))})),this.activities=$s(this.config.activities).concat(this.invoke).map((function(e){return Rc(e)})),this.transition=this.transition.bind(this),this.tags=$s(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||ac(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,o=r.activities,a=r.guards,s=r.services,c=r.delays;return new e(this.config,{actions:bs(bs({},i),t.actions),activities:bs(bs({},o),t.activities),guards:bs(bs({},a),t.guards),services:bs(bs({},s),t.services),delays:bs(bs({},c),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Ys(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Ts(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var r=eu(Ys(t)?"".concat(e.id,":delay[").concat(n,"]"):t,e.id);return e.onEntry.push($c(r,{delay:t})),e.onExit.push(qc(r)),r};return(Ws(t)?t.map((function(e,t){var r=n(e.delay,t);return bs(bs({},e),{event:r})})):Ls(Object.keys(t).map((function(e,r){var i=t[e],o=Hs(i)?{target:i}:i,a=isNaN(+e)?e:+e,s=n(a,r);return $s(o).map((function(e){return bs(bs({},e),{event:s,delay:a})}))})))).map((function(t){var n=t.delay;return bs(bs({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof lu?e.value:Ps(e,this.delimiter);if(Hs(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=Object.keys(r),a=[this];return a.push.apply(a,ks([],Es(Ls(o.map((function(e){return n.getStateNode(e).getStateNodes(r[e])})))),!1)),a},e.prototype.handles=function(e){var t=Is(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=e instanceof lu?e:lu.create(e),n=Array.from(sc([],this.getStateNodes(t.value)));return new lu(bs(bs({},t),{value:this.resolve(t.value),configuration:n,done:fc(n,this),tags:pc(n),machine:this.machine}))},e.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var r=Object.keys(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var r,i,o={};try{for(var a=Ss(Object.keys(e)),s=a.next();!s.done;s=a.next()){var c=s.value,u=e[c];if(u){var l=this.getStateNode(c)._transition(u,t,n);l&&(o[c]=l)}}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var d=Object.keys(o).map((function(e){return o[e]})),f=Ls(d.map((function(e){return e.transitions})));if(!d.some((function(e){return e.transitions.length>0})))return this.next(t,n);var p=Ls(d.map((function(e){return e.entrySet}))),h=Ls(Object.keys(o).map((function(e){return o[e].configuration})));return{transitions:f,entrySet:p,exitSet:Ls(d.map((function(e){return e.exitSet}))),configuration:h,source:t,actions:Ls(Object.keys(o).map((function(e){return o[e].actions})))}},e.prototype._transition=function(e,t,n){return Hs(e)?this.transitionLeafNode(e,t,n):1===Object.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.getTransitionData=function(e,t){return this._transition(e.value,e,Zs(t))},e.prototype.next=function(e,t){var n,r,i,o=this,a=t.name,s=[],c=[];try{for(var u=Ss(this.getCandidates(a)),l=u.next();!l.done;l=u.next()){var d=l.value,f=d.cond,p=d.in,h=e.context,v=!p||(Hs(p)&&Yu(p)?e.matches(Ps(this.getStateNodeById(p).path,this.delimiter)):Cs(Ps(p,this.delimiter),js(this.path.slice(0,-2))(e.value))),_=!1;try{_=!f||Xs(this.machine,f,h,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(a,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(_&&v){void 0!==d.target&&(c=d.target),s.push.apply(s,ks([],Es(d.actions),!1)),i=d;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}if(i){if(!c.length)return{transitions:[i],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:s};var y=Ls(c.map((function(t){return o.getRelativeStateNodes(t,e.historyValue)}))),m=!!i.internal,g=[];return m||c.forEach((function(e){g.push.apply(g,ks([],Es(o.getExternalReentryNodes(e)),!1))})),{transitions:[i],entrySet:g,exitSet:m?[]:[this],configuration:y,source:e,actions:s}}},e.prototype.getExternalReentryNodes=function(e){for(var t=[],n=Es(e.order>this.order?[e,this]:[this,e],2),r=n[0],i=n[1];r&&r!==i;)t.push(r),r=r.parent;return r!==i?[]:(t.push(i),t)},e.prototype.getActions=function(e,t,n,r,i,o,a){var s,c,u,l,d=this,f=sc([],o?this.getStateNodes(o.value):[this]);try{for(var p=Ss(e),h=p.next();!h.done;h=p.next())(!dc(f,y=h.value)||dc(n.entrySet,y.parent)&&!dc(n.entrySet,y))&&n.entrySet.push(y)}catch(e){s={error:e}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}try{for(var v=Ss(f),_=v.next();!_.done;_=v.next()){var y;dc(e,y=_.value)&&!dc(n.exitSet,y.parent)||n.exitSet.push(y)}}catch(e){u={error:e}}finally{try{_&&!_.done&&(l=v.return)&&l.call(v)}finally{if(u)throw u.error}}var m=Ls(n.entrySet.map((function(e){var t=[];if("final"!==e.type)return t;var o=e.parent;if(!o.parent)return t;t.push(tu(e.id,e.doneData),tu(o.id,e.doneData?Us(e.doneData,r,i):void 0));var a=o.parent;return"parallel"===a.type&&oc(a).every((function(e){return fc(n.configuration,e)}))&&t.push(tu(a.id)),t})));n.exitSet.sort((function(e,t){return t.order-e.order})),n.entrySet.sort((function(e,t){return e.order-t.order}));var g=new Set(n.entrySet),b=new Set(n.exitSet),w=Array.from(g).map((function(e){var t=e.onEntry,n=e.activities.map((function(e){return Jc(e)}));return jc(a?ks(ks([],Es(t),!1),Es(n),!1):ks(ks([],Es(n),!1),Es(t),!1),d.machine.options.actions)})).concat([m.map(Lc)]),S=Array.from(b).map((function(e){return jc(ks(ks([],Es(e.onExit),!1),Es(e.activities.map((function(e){return Kc(e)}))),!1),d.machine.options.actions)})).concat([jc(n.actions,this.machine.options.actions)]).concat(w);if(t){var E=jc(Ls(ks([],Es(e),!1).sort((function(e,t){return t.order-e.order})).map((function(e){return e.onExit}))),this.machine.options.actions).filter((function(e){return e.type!==_c&&(e.type!==yc||!!e.to&&e.to!==_s.Internal)}));return S.concat([E])}return S},e.prototype.transition=function(e,t,n,r){void 0===e&&(e=this.initialState);var i,o,a=Zs(t);if(e instanceof lu)i=void 0===n?e:this.resolveState(lu.from(e,n));else{var s=Hs(e)?this.resolve(Ds(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;i=this.resolveState(lu.from(s,c))}if(this.strict&&!this.events.includes(a.name)&&(o=a.name,!/^(done|error)\./.test(o)))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(a.name,"'"));var u=this._transition(i.value,i,a)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:i,actions:[]},l=sc([],this.getStateNodes(i.value)),d=u.configuration.length?sc(l,u.configuration):l;return u.configuration=ks([],Es(d),!1),this.resolveTransition(u,i,i.context,r,a)},e.prototype.resolveRaisedTransition=function(e,t,n,r){var i,o=e.actions;return(e=this.transition(e,t,void 0,r))._event=n,e.event=n.data,(i=e.actions).unshift.apply(i,ks([],Es(o),!1)),e},e.prototype.resolveTransition=function(e,t,n,r,i){var o,a,s,c,u=this;void 0===i&&(i=Dc);var l=e.configuration,d=!t||e.transitions.length>0,f=d?e.configuration:t?t.configuration:[],p=fc(f,this),h=d?lc(this.machine,l):void 0,v=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,_=this.getActions(new Set(f),p,e,n,i,t,r),y=t?bs({},t.activities):{};try{for(var m=Ss(_),g=m.next();!g.done;g=m.next()){var b=g.value;try{for(var w=(s=void 0,Ss(b)),S=w.next();!S.done;S=w.next()){var E=S.value;E.type===hc?y[E.activity.id||E.activity.type]=E:E.type===vc&&(y[E.activity.id||E.activity.type]=!1)}}catch(e){s={error:e}}finally{try{S&&!S.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}var k,x,O=Es(cu(this,t,n,i,_,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),A=O[0],C=O[1],I=Es(function(e,t){var n,r,i=Es([[],[]],2),o=i[0],a=i[1];try{for(var s=Ss(e),c=s.next();!c.done;c=s.next()){var u=c.value;t(u)?o.push(u):a.push(u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(A,(function(e){return e.type===_c||e.type===yc&&e.to===_s.Internal})),2),N=I[0],P=I[1],D=A.filter((function(e){var t;return e.type===hc&&(null===(t=e.activity)||void 0===t?void 0:t.type)===xc})),T=D.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=ec(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?Us(e.data,n,r):void 0,c=a?_u(a,e.id,s):vu(e.id);return c.meta=e,c}(t.activity,u.machine,C,i),e}),t?bs({},t.children):{}),M=new lu({value:h||t.value,context:C,_event:i,_sessionid:t?t._sessionid:null,historyValue:h?v?(k=v,x=h,{current:x,states:Bs(k,x)}):void 0:t?t.historyValue:void 0,history:!h||e.source?t:void 0,actions:h?P:[],activities:h?y:t?t.activities:{},events:[],configuration:f,transitions:e.transitions,children:T,done:p,tags:pc(f),machine:this}),j=n!==C;M.changed=i.name===Ic||j;var R=M.history;R&&delete R.history;var L=!p&&(this._transient||l.some((function(e){return e._transient})));if(!(d||L&&""!==i.name))return M;var V=M;if(!p)for(L&&(V=this.resolveRaisedTransition(V,{type:gc},i,r));N.length;){var $=N.shift();V=this.resolveRaisedTransition(V,$._event,i,r)}var U=V.changed||(R?!!V.actions.length||j||typeof R.value!=typeof V.value||!uu(V.value,R.value):void 0);return V.changed=U,V.history=R,V},e.prototype.getStateNode=function(e){if(Yu(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=Yu(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Yu(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=Ns(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Wu;switch(this.type){case"parallel":return Ts(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Wu}));case"compound":if(Hs(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return Object.keys(e).length?Ts(e,(function(e,t){return e?n.getStateNode(t).resolve(e):Wu})):this.initialStateValue||{};default:return e||Wu}},e.prototype.getResolvedPath=function(e){if(Yu(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return Ns(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=Ms(this.states,(function(e){return e.initialStateValue||Wu}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=rc(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){this._init();var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=t?t:this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=Hs(t.target)&&Yu(t.target)?Ds(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;return rc(this)?[this]:"compound"!==this.type||this.initial?Ls(Rs(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):[this]},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=Es(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(r)},e.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:Ms(this.states,(function(t,n){if(!e)return t.historyValue();var r=Hs(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var r=this.target;return r?Ls(Rs(r).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var i,o=(i=n.path,"states",function(e){var t,n,r=e;try{for(var o=Ss(i),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.states[s]}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r})(e).current;return Hs(o)?[n.getStateNode(o)]:Ls(Rs(o).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=Ls(Object.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,r;if(this.__cache.events)return this.__cache.events;var i=this.states,o=new Set(this.ownEvents);if(i)try{for(var a=Ss(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=i[s.value];if(c.states)try{for(var u=(n=void 0,Ss(c.events)),l=u.next();!l.done;l=u.next()){var d=l.value;o.add("".concat(d))}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!Hs(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=function(e){if(void 0!==e&&""!==e)return $s(e)}(e.target),r="internal"in e?e.internal:!n||n.some((function(e){return Hs(e)&&e[0]===t.delimiter})),i=this.machine.options.guards,o=this.resolveTarget(n),a=bs(bs({},e),{actions:jc($s(e.actions)),cond:Gs(e.cond,i),target:o,source:this,internal:r,eventType:e.event,toJSON:function(){return bs(bs({},a),{target:a.target?a.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return a},e.prototype.formatTransitions=function(){var e,t,n,r=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var i=this.config.on,o=i["*"],a=void 0===o?[]:o,s=ws(i,["*"]);n=Ls(Object.keys(s).map((function(e){return Qs(e,s[e])})).concat(Qs("*",a)))}else n=[];var c=this.config.always?Qs("",this.config.always):[],u=this.config.onDone?Qs(String(tu(this.id)),this.config.onDone):[],l=Ls(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,ks([],Es(Qs(String(nu(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,ks([],Es(Qs(String(ru(e.id)),e.onError)),!1)),t}))),d=this.after,f=Ls(ks(ks(ks(ks([],Es(u),!1),Es(l),!1),Es(n),!1),Es(c),!1).map((function(e){return $s(e).map((function(e){return r.formatTransition(e)}))})));try{for(var p=Ss(d),h=p.next();!h.done;h=p.next()){var v=h.value;f.push(v)}}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=p.return)&&t.call(p)}finally{if(e)throw e.error}}return f},e}();const{assign:Gu}=t,qu=e=>e.videoCampaign,Ju=e=>e.passbackSet,Ku=e=>e.persistentDbv,Zu=e=>e.videoTimeoutEnabled;var Qu,Xu,el,tl=(Qu={id:"adUnit",initial:"initial",states:{initial:{always:[{target:"dbv",cond:Ru((e=>e.dbvSet),qu)},{target:"loader",cond:qu},{target:"fixedDisplayAd"}]},dbv:{after:{PASSBACK_DELAY:[{actions:"timeoutSkipVideo",cond:Ru(Ku,Zu)},{target:"passback",cond:Ru(Ju,Zu)},{target:"allAdsDone",cond:Zu}]},on:{DISPLAY_RESIZE:[{actions:"setDfpSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{actions:"setSkipVideo",cond:Ku},{target:"passback",cond:Ju}],DBV_ERROR:[{target:"loader",cond:(el=e=>e.skipVideo,e=>!el(e))},{target:"passback",cond:Ju},{target:"allAdsDone"}]}},loader:{on:{DISPLAY_RESIZE:[{actions:"setDfpSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_READY:"video",VIDEO_ERROR:[{target:"passback",cond:Ju},{target:"allAdsDone"}]}},video:{on:{SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}],VIDEO_DONE:[{target:"passback",cond:Ju},{target:"allAdsDone"}],VIDEO_CLOSED:[{target:"passback",cond:Ju},{target:"allAdsDone"}],VIDEO_ERROR:[{target:"passback",cond:Ju},{target:"allAdsDone"}]}},fixedDisplayAd:{on:{DISPLAY_RESIZE:[{actions:"setDfpSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},passback:{on:{DISPLAY_RESIZE:[{actions:"setDfpSize"}],SET_IS_STICKY_DESKTOP_RUNNING:[{actions:"setIsStickyDesktopRunning"}]}},allAdsDone:{type:"final"},adUnitDisabled:{type:"final"}},on:{AD_UNIT_DISABLED:"adUnitDisabled"}},void 0===Xu&&(Xu=Qu.context),new Hu(Qu,void 0,Xu)).withConfig({actions:{setSkipVideo:Gu({skipVideo:!0}),timeoutSkipVideo:Gu({skipVideo:!0,videoTimeoutEnabled:!1}),setDfpSize:Gu({dfpAdSize:(e,t)=>t.type===$u?t.payload:e.dfpAdSize}),setIsStickyDesktopRunning:Gu({isStickyDesktopRunning:(e,t)=>t.type===Bu?t.payload:e.isStickyDesktopRunning})},delays:{PASSBACK_DELAY:(e,t)=>e.videoTimeoutEnabled&&e.passbackInterval?Math.max(e.passbackInterval,1)*J:0}}),nl=(e,t)=>{const[n]=ju(),i=hs(e),{reportingModuleName:o}=n.context;(0,r.useEffect)((()=>{e&&(e=>{let{product:t,device:n}=e;qn({metric:"sticky-ad-unit-attached",tags:{[Lo]:ko(),[$o]:n,[Uo]:t}})})({product:o,device:t}),!e&&i&&(e=>{let{product:t,device:n}=e;qn({metric:"sticky-ad-unit-detached",tags:{[Lo]:ko(),[$o]:n,[Uo]:t}})})({product:o,device:t})}),[t,e,i,o])},rl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const[o,a]=(0,r.useState)(!1),[s,c]=(0,r.useState)(null),[u,l]=(0,r.useState)(null),[d,f]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[v,_]=(0,r.useState)(localStorage.getItem(T)??!1),y=hs(o),m=(0,r.useRef)(null),g=(0,r.useMemo)((()=>document.querySelector(t)),[t]),b=m.current,w=!v&&!p&&!(y&&!o)&&Boolean(g&&b)&&(!d||o&&d&&i),S=(0,r.useCallback)((()=>{i||localStorage.setItem(T,"true"),_(!0),a(!1)}),[i]),E=(0,r.useCallback)((()=>{i||a(!1),f(!0)}),[i]),k=(0,r.useCallback)((()=>{h(!0)}),[]),{startTimer:x,pauseTimer:O,stopTimer:A,remainingTime:C}=al(n,E,!1,1e3),{startTimer:I,pauseTimer:N,stopTimer:P}=al(n,k,!1);(0,r.useEffect)((()=>{o?(P(),x()):O()}),[o,O,x,A,P]),fs({isEnabled:w,callback:()=>{if(!b||!g||!e)return;const{bottom:t,top:n}=g.getBoundingClientRect()??{},r=e.offsetHeight+(pe?40:25);if(pe?n>0:n>r)c(us);else{const e=pe?t>r:t>window.innerHeight;c(e?ss:cs)}}},[g,b]);const D=(0,r.useCallback)(((e,t)=>{const{intersectionRatio:n}=t??{},r=1===n;return l(e),r?I():N()}),[N,I]);return ls({intersectionObserverOptions:{threshold:pe?1:[.5,1]},isEnabled:w,target:b,callback:D},[D]),(0,r.useEffect)((()=>{if(!w)return c(null),void l(null);const e=s===ss&&u===cs;o?e||(Wt(!0,"Sticky container is out of position"),a(!1)):e&&(Wt(!0,"Sticky container is on position"),a(!0))}),[o,w,s,u]),{isSticky:o,stickyPlaceholderRef:m,closeStickyContainer:S,remainingStickyTime:C}},il=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=(0,r.useRef)(null);(0,r.useEffect)((()=>{n.current=e}),[e]),(0,r.useEffect)((()=>{if(null!==t){const e=setInterval((()=>{n.current&&n.current(t)}),t);return()=>{clearInterval(e)}}}),[t])},ol=()=>{const[,e]=(0,r.useReducer)((e=>e+1),0);return e},al=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;const[o,a]=(0,r.useState)(!1),s=(0,r.useRef)(null),c=(0,r.useRef)(null),u=(0,r.useRef)(),l=(0,r.useRef)(t),d=ol();(0,r.useEffect)((()=>{l.current=t}),[t]);const f=(0,r.useCallback)((e=>{e&&c.current&&(c.current=c.current-e,d())}),[d]);il(f,o?i:null);const p=(0,r.useCallback)((()=>{a(!0);const t=c.current??e;s.current=Date.now(),c.current=t,u.current&&clearTimeout(u.current),t&&(u.current=setTimeout((()=>{a(!1),s.current=null,c.current=null,l.current()}),t))}),[e]),h=(0,r.useCallback)((()=>{a(!1),u.current&&clearTimeout(u.current)}),[]),v=(0,r.useCallback)((()=>{a(!1),c.current=null,s.current=null,u.current&&clearTimeout(u.current)}),[]);return(0,r.useEffect)((()=>{n&&p()}),[n,p]),{startTimer:p,pauseTimer:h,stopTimer:v,remainingTime:c.current??0}},sl=e=>{const[t,n]=(0,r.useState)(!1);return xa((async()=>{try{await(e=>{const{featherModeBehavior:t,delayType:n,delayTime:r}={featherModeBehavior:Lt("feather_mode_behavior","aggressive"),delayType:Lt("feather_mode_delay_type",A),delayTime:Lt("feather_mode_delay_time")};return t!==e?Promise.resolve():"time"===n&&null!=r?Promise.race([(i=r,new Promise((e=>setTimeout(e,i)))),Sa()]):n===A?Sa():Promise.resolve();var i})(e)}catch(e){Yt(!0,"Feather mode runtime error",e)}n(!0)}),[]),t},cl="OW_ADS_CONFIG_CACHED",ul="NETWORK_ONLY";const ll=ul,dl=Lt("ads_config_fetch_settings",{fetch_strategy:ll,request_retry_count:3,request_retry_timeout:500,response_delay_timeout:1e3}),fl=dl.fetch_strategy??ll,pl=dl.request_retry_count??3,hl=dl.request_retry_timeout??500,vl=dl.response_delay_timeout??1e3,_l=async(e,t)=>{const n=(e=>{const{endpoints:t,launcherEnv:n}=Se,r=n.isProduction?t.apiAdsConfig.production:t.apiAdsConfig.staging,i=new URL(`${r}/${e}/v2`);return se&&i.searchParams.append(M,"true"),i.href})(t),r=((e,t)=>({"x-access-token":localStorage.getItem("SPOTIM_ACCESS_TOKEN"),"x-guid":vo(),"x-post-id":e,"x-spot-id":t,"x-spotim-page-view-id":a.config.pageViewId}))(e,t);try{const e=await go((()=>(async(e,t)=>{const n=await fetch(e,{method:(null==t?void 0:t.method)??"GET",...t});if(!n.ok)throw new Error(`Fetch error: ${n.status} ${n.statusText}`);return n.json()})(n,{headers:r,credentials:"include"})),pl,hl);return Wt(!0,"Fetch ads config success",e),e}catch(e){const t=po(e);Yt(!0,"Fetch ads config error",t),(e=>{Gn({metric:Po,error:zt(e,Po)})})(po(e))}},yl=async()=>new Promise((async e=>{const t=(()=>{const e=localStorage.getItem(cl);if(e)try{const t=JSON.parse(e);return Wt(!0,"Ads config is taken from cache"),t}catch(e){Yt(!0,"Ads config from cache parse error",e)}})(),n=jt(),r=Mt();let i,o=!1;const a=()=>{if(o)return;const n="Cache";e({dataSource:n,adsConfig:t}),o=!0,(e=>{let{dataSource:t}=e;qn({metric:"ads-config-fetched",tags:{[Vo]:t}})})({dataSource:n})};t&&(i=setTimeout(a,vl));const s=await _l(n,r),c=null==s?void 0:s.success;var u;clearTimeout(i),c&&(u=s,localStorage.setItem(cl,JSON.stringify(u))),o||(c||!t?e({adsConfig:s,dataSource:R}):a())})),ml=async()=>{const e=jt(),t=Mt(),n=await _l(e,t);return localStorage.removeItem(cl),{adsConfig:n,dataSource:R}},gl=(e,t)=>{const{campaigns:n,...r}=e,i=[],o=Object.keys(n);return o.length?o.forEach((e=>{n[e]&&i.push({[e]:{...r,dataSource:t,campaigns:n[e]}})})):qn({metric:"ads-config-no-campaigns"}),i};var bl=()=>{const[e,t]=(0,r.useState)();return xa((async()=>{try{const e=await(async()=>{var e;const t=await(async()=>{var e;const t={NETWORK_FIRST:yl,[ul]:ml};return(null===(e=t[fl])||void 0===e?void 0:e.call(t))??t.NETWORK_ONLY()})();if(null==t||null===(e=t.adsConfig)||void 0===e||!e.success)return;const{adsConfig:n,dataSource:r}=t,{envelope_id:i,pixels:o,platform:a}=n;return{data:gl(n,r),platform:a,success:!0,thirdPartyData:{ats:{envelopeId:i},pixels:o}}})();if(!e)return void Wt(!0,"No ads config");t(e)}catch(e){Yt(!0,"Get ads config error",e)}}),[]),e};const wl=Tr(Dr());var Sl=Math.floor,El=Math.random,kl=parseFloat,xl=Math.min,Ol=Math.random,Al=function(e,t,n){if(n&&"boolean"!=typeof n&&function(e,t,n){if(!ze(n))return!1;var r=typeof t;return!!("number"==r?xn(n)&&Ci(t,n.length):"string"==r&&t in n)&&at(n[t],e)}(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=Wi(e),void 0===t?(t=e,e=0):t=Wi(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Ol();return xl(e+i*(t-e+kl("1e-"+((i+"").length-1))),t)}return function(e,t){return e+Sl(El()*(t-e+1))}(e,t)};const Cl=(e,t)=>{const n="player"===t?e.moat_player_percent:e.moat_widget_percent;return null!=n&&((e,t,n)=>{const r=Al(1,100);return!!("number"==typeof(i=n)||Le(i)&&"[object Number]"==Re(i))&&n>=r;var i})(0,0,n)};var Il="localStorage",Nl="cookie";const Pl=(e,t)=>{(t||null==localStorage.getItem(ho))&&localStorage.setItem(ho,e)},Dl=(e,t)=>{var n,r;(t||null==(n=ho,null===(r=document.cookie.split("; ").find((e=>e.startsWith(`${n}=`))))||void 0===r?void 0:r.split("=")[1]))&&er(ho,e,365)},Tl=()=>{var e,t;return"localStorage"===(null===(e=window.ats)||void 0===e||null===(t=e.outputCurrentConfiguration)||void 0===t?void 0:t.call(e).storageType)?Il:Nl},Ml=e=>window.btoa(jl(e)),jl=e=>{const t={envelope:e,timestamp:Date.now(),version:"0.0.0"};return JSON.stringify(t)};var Rl=e=>{if(!Lt("enable_ats_integration",!1)||!e.envelopeId)return;if(Wt(!0,"Running integration","ATS"),Lt("use_ats_external_integration",!0)){try{t=e.envelopeId,window.ats={retrieveEnvelope:e=>{const n=jl(t);return e&&e(n),Promise.resolve(n)}}}catch(e){Yt(!0,"ATS integration error",e),(e=>{Gn({metric:jo,error:zt(e,jo)})})(po(e))}return}var t;if(!window.ats)return;const n=Lt("always_override_publisher_ats_envelope",!1);try{((e,t)=>{const n=Tl(),r=Ml(e);switch(n){case Il:return Pl(r,t);case Nl:Dl(r,t)}})(e.envelopeId,n)}catch(e){Yt(!0,"ATS envelope id caching error",e),(e=>{Gn({metric:Mo,error:zt(e,Mo)})})(po(e))}},Ll=e=>{const[t,n]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(!e)return;const{ats:t,pixels:r}=e.thirdPartyData;Rl(t),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Wt(!0,"Running integration","pixels"),null==e||e.forEach((e=>{const t=e.type??"img",n=document.createElement(t);n.setAttribute("src",e.url),n.setAttribute("width","0"),n.setAttribute("height","0"),n.setAttribute("aria-hidden","true"),t===u&&n.setAttribute("title",B),Object.assign(n.style,{position:"absolute",width:0,height:0,pointerEvents:"none",opacity:0,border:0}),document.body.appendChild(n)}))}(r),n(!0)}),[e]),t};function Vl(e){var t=e.element,n=e.onAttributesChanged;t&&MutationObserver&&new MutationObserver((function(e){var t=e.filter((function(e){return"attributes"===e.type&&e.attributeName}));if(t.length>0){var r,i=null==(r=t.find((function(e){return e.target})))?void 0:r.target;null==n||n(i,t)}})).observe(t,{attributes:!0})}function $l(e){var t=e.element,n=e.onRemoved;t&&MutationObserver&&t.parentNode&&new MutationObserver((function(e,r){e.some((function(e){return Array.from(e.removedNodes).indexOf(t)>-1}))&&(n(e[0].removedNodes[0]),r.disconnect())})).observe(t.parentNode,{childList:!0})}var Ul,zl;(zl=Ul||(Ul={})).leftToRight="ltr",zl.rightToLeft="rtl";var Bl=(0,r.createContext)({root:null}),Fl=function(e){var t=e.moduleName,n=e.rightToLeft,i=void 0!==n&&n,o=e.defensiveMode,a=void 0!==o&&o,s=e.bypass,c=void 0!==s&&s,u=e.onlyChildren,l=void 0!==u&&u,d=e.onCreatedShadowDOM,f=void 0===d?function(){}:d,p=e.children,h=(0,r.useState)(),v=h[0],_=h[1],y=(0,r.useState)(c),m=y[0],g=y[1],b=i?Ul.rightToLeft:Ul.leftToRight,w=(0,r.useCallback)((function(e){if(e&&!v){var n,r=e.getRootNode()instanceof ShadowRoot,i=e.attachShadow&&window.__SPOTIM__.stylesheetElementAdded;!r&&i?(n=e.attachShadow({mode:"open"}),void 0===(s={defensiveMode:a})&&(s={}),(o=e)&&o.shadowRoot&&o.shadowRoot.addEventListener("animationstart",(function(e){var t;if(!e.detail||!e.detail.isSpotimReEmittedEvent){var n=new(function(e){var t;if(!e.defensiveMode)return CustomEvent;var n=document.createElement("iframe");document.body.appendChild(n);var r=null==n||null==(t=n.contentWindow)?void 0:t.CustomEvent;return document.body.removeChild(n),r}(s))("animationstart",{composed:!0,bubbles:!0,detail:{animationName:e.animationName,isSpotimReEmittedEvent:!0}});null==(t=e.target)||t.dispatchEvent(n)}})),e.setAttribute("data-spot-im-shadow-host",t),_(n)):(r&&_(e.getRootNode()),g(!0)),r&&!m?f(e.getRootNode()):n&&f(n)}var o,s}),[]);return m?r.default.createElement(r.default.Fragment,null,p):r.default.createElement("div",{ref:w},v&&(0,r.createPortal)(r.default.createElement(Bl.Provider,{value:{root:v}},l?p:r.default.createElement("div",{id:"spotim-specific"},r.default.createElement("div",{"data-spot-im-direction":b},p))),v))},Wl=e=>{let{width:t}=e;const[n]=ju(),{isShadowDOMBypassed:i,isStickyEnabled:o}=n.context,a=Vt("ad_choice_enabled",!0),s=Vt("ad_choice_icon_url","https://publisher-assets.spot.im/yad/ad-choises.png"),c=Vt("ad_choice_url","https://dynamic-cdn.openweb.com/yad/adchoice.html"),u=Vt("sponsoredLabel","Sponsored");return a?r.default.createElement(Fl,{moduleName:"ads",bypass:i},r.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"20px",width:"100%",direction:"ltr"}},r.default.createElement("div",{style:{width:t,margin:o?"0 5px":0,display:"flex",alignItems:"flex-end",justifyContent:"space-between",fontSize:"14px",height:"20px",fontFamily:'"Open Sans", sans-serif',letterSpacing:"-0.23px",color:"#373e44"}},r.default.createElement("div",{style:{display:"flex"}},r.default.createElement("a",{style:{textDecoration:"none",color:"#373e44"},href:c,target:"_blank",rel:"noopener noreferrer"},r.default.createElement("span",{style:{marginRight:"5px",fontSize:"14px"}},"AdChoices"),r.default.createElement("img",{src:s,alt:"ad choice icon",style:{height:"12px",width:"12px"}}))),u))):null},Yl=(e,t)=>{const{dfpAdSize:n}=e.context,i=((e,t)=>(0,r.useMemo)((()=>{var n;if(!t)return;if(t.type===c)switch(e.value){case"initial":case"fixedDisplayAd":return t.display;default:return}const r=Boolean(null===(n=t.displayBeforeVideo)||void 0===n?void 0:n.code);switch(e.value){case"initial":return r?t.displayBeforeVideo:void 0;case"dbv":return t.displayBeforeVideo;case"video":return t.video;case"passback":return t.passback;default:return}}),[e.value,null==t?void 0:t.id]))(e,t);return t?n&&!e.matches("video")?n[0]:(o=null==i?void 0:i.size.width)?o===$?"100%":o:Q:"0px";var o};const Hl=e=>{const{adsConfig:t,adUnitId:n,center:r,compact:i,isOptedOut:o,moduleName:a,persistentDbv:s,product:c,reportingModuleName:u}=e,{campaign:l,envelope_id:d,s:f,user_groups:p}=t,{engagement_level:h,slot:v}=l??{};return{adsConfig:t,adUnitId:n,campaign:l,center:r,compact:i,engagementLevel:h,envelopeId:d,firstPartyData:f,isOptedOut:o,moduleName:a,persistentDbv:s,product:c,reportingModuleName:u,userGroups:p,slot:v??V}},Gl=e=>{var t,n,r,i;return e&&e.type===s?{dbvSet:Boolean(null===(t=e.displayBeforeVideo)||void 0===t?void 0:t.code),passbackInterval:null===(n=e.video)||void 0===n?void 0:n.interval,passbackSet:Boolean(null===(r=e.passback)||void 0===r?void 0:r.code),videoCampaign:!0,videoTimeoutEnabled:Boolean(e.passback)&&Boolean(null===(i=e.video)||void 0===i?void 0:i.interval)}:{dbvSet:!1,passbackSet:!1,videoCampaign:!1,videoTimeoutEnabled:!1}},ql=e=>{let{adUnitProps:t,contextOverrides:n,target:r}=e;const{campaign:i}=t.adsConfig;return{disableAdForProduct:ra(r),isStickyEnabled:!1,isStickyDesktopRunning:!1,isTakeoverEnabled:!1,postId:jt(),skipVideo:!1,spotId:Mt(),...Hl(t),...Gl(i),...n}};var Jl=(e,t)=>{var n;const{moduleName:r,product:i}=t,o=null===(n=e.find((e=>e[r])))||void 0===n?void 0:n[r];return o?(e=>{let{initialProductConfigs:t,postId:n,productConfigs:r,spotId:i}=e;const{moduleName:o,reportingModuleName:a,slot:s,forceSpecificSlot:c,adIndex:u}=t,{campaigns:l,...d}=r,f={...d,campaign:Ea(l,s,c)};return{...t,adsConfig:f,spotId:i,adUnitId:ga({adIndex:u,moduleName:o,postId:n,slot:s,spotId:i}),isOptedOut:Boolean(f.isOptedOut),persistentDbv:Lt("persistent_dbv",!0),reportingModuleName:a??o,adIndex:u,slot:s}})({initialProductConfigs:t,postId:jt(),productConfigs:o,spotId:Mt()}):(i&&(0,Jn.dispatch)(`${i}-no-campaign`),void Wt(!0,`Ads config for ${r} was not found`))};const Kl=Rt("assets_config"),Zl=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;return(e,i,o,a)=>{const{bypassShadowDom:s,...c}=a??{},u=Jl(t,{moduleName:i,slot:o,reportingModuleName:i,...c});if(!u)return;const l=e.getRootNode();l instanceof ShadowRoot&&(e=>{const t=Kl.find((e=>e.module===Se.adsAssetType&&"text/css"===e.type));if(!t)return;const n=document.createElement("link");n.href=t.url,n.setAttribute("rel","stylesheet"),e.appendChild(n)})(l);const d=ql({adUnitProps:u,target:e,contextOverrides:{isShadowDOMBypassed:s,slot:o}}),{campaign:f,reportingModuleName:p}=d;_r({reportingModuleName:p,campaignId:null==f?void 0:f.id}),_a(i,p,e,(()=>n({target:e,context:d,props:u})),(()=>r({target:e})))}},Ql=(e,t)=>(e-20*(t-1))/t;var Xl=()=>pe&&window.innerWidth<700;const{is_enabled:ed}=Lt("sticky_desktop",H),{is_enabled:td}=Lt("sticky_mobile",G),nd=Rt("tenant_config.stack_top_container.enabled",!1);var rd=(e,t)=>{const n=Xl()?td||nd:ed;return e&&n&&z.some(Xi(t))};const{active_products:id,is_enabled:od}=Lt("video_takeover",q);var ad=(e,t)=>e&&od&&!Xl()&&id.some(Xi(t));const{products_heights:sd}=Lt("video_takeover",q),cd=e=>e?parseInt(e,10):0;var ud=(e,t)=>{if(sd[e])return{height:cd(sd[e])+cd("55px"),width:t.clientWidth}};const ld=Lt("supported_preload_products",[y,m,g,v,b]).reduce(((e,t)=>(e[t]=!0,e)),{}),dd={};const fd=e=>{const{size:t,progress:n,thickness:i=2,color:o="#BF1314",backgroundColor:a="#F6F6F6",children:s,className:c}=e,u=t/2,l=u-i,d=Math.round(2*Math.PI*l),f=Math.round(d*((100-n)/100));return r.default.createElement("div",{className:Ko()("ads-independent__CircularProgress__circularProgress--mrCE6",c)},r.default.createElement("svg",{className:"ads-independent__CircularProgress__circularProgressSvg--Yyrsb",width:t,height:t},r.default.createElement("circle",{cx:u,cy:u,fill:a,r:l,stroke:"#FFFFFF",strokeWidth:i}),n&&r.default.createElement("circle",{className:"ads-independent__CircularProgress__circularProgressIndicator--gWskL",cx:u,cy:u,fill:a,r:l,stroke:o,strokeWidth:i,strokeDasharray:d,strokeDashoffset:f,strokeLinecap:"round",style:{transition:".1s"}})),s&&r.default.createElement("span",{className:"ads-independent__CircularProgress__circularProgressLabel--qab4Q"},s))};var pd=r.default.memo(fd),hd=e=>{let{fill:t,size:n}=e;return r.default.createElement("svg",{"aria-hidden":"true",fill:"none",style:{width:n,height:n},viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},r.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.55177 3.55192C3.26054 3.84315 3.26054 4.31533 3.55177 4.60656L6.94579 7.99974L3.55177 11.3938C3.26054 11.685 3.26054 12.1572 3.55177 12.4484C3.843 12.7396 4.31518 12.7396 4.60641 12.4484L8.00001 9.0548L11.3936 12.4484C11.6848 12.7396 12.157 12.7396 12.4483 12.4484C12.7395 12.1572 12.7395 11.685 12.4483 11.3938L9.05465 8.00016L12.4483 4.60656C12.7395 4.31533 12.7395 3.84315 12.4483 3.55192C12.157 3.26069 11.6848 3.26069 11.3936 3.55192L8.00043 6.9451L4.60641 3.55192C4.31518 3.26069 3.843 3.26069 3.55177 3.55192Z",fill:t}))},vd=e=>{let{className:t,color:n="#B1B2BF",onClick:i}=e;return r.default.createElement("button",{"aria-label":"Close button",className:Ko()("ads-independent__CloseButton__closeButton--AF6Xg",t),onClick:i},r.default.createElement(hd,{fill:n,size:"16px"}))},_d=e=>{let{className:t,isStickyAfterTimeout:n,remainingTime:i,timeout:o,onClick:a}=e;const s=Math.ceil(i/1e3),c=100-i/o*100;return r.default.createElement(pd,{className:t,size:35,progress:c},n&&(i?s:r.default.createElement(vd,{className:"ads-independent__StickyContainerCloseButton__closeButton--p7Rq5",color:"#070707",onClick:a})),!n&&s)};const yd=e=>{const{name:t,animationProps:n}=e,i=(o=()=>(e=>Object.entries(e).map((e=>{let[t,n]=e;return`${t}{${(e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return`${e}${yo(n)}:${r};`}),""))(n)}}`})).join(""))(n),a=[n],(0,r.useMemo)(o,function(e){const t=(0,r.useRef)(e),n=(0,r.useRef)(0);return os(e,t.current)||(t.current=e,n.current+=1),(0,r.useMemo)((()=>t.current),[n.current])}(a)));var o,a;return r.default.createElement("style",null,["@keyframes","@-webkit-keyframes"].map((e=>`${e} ${t} {${i}} \n`)))};var md=r.default.memo(yd);const gd={position:"fixed",top:"auto",bottom:"0",padding:"0 25px 5px 25px",background:"#fff",boxShadow:"0px 2px 20px rgba(0, 0, 0, 0.07)",borderRadius:"10px 10px 0px 0px",border:"1px solid rgba(7, 7, 7, 0.05)"},bd={position:"absolute",top:"0",padding:"0",background:"transparent",boxShadow:"unset",borderRadius:"unset",border:"unset"},wd=`\n  ${j.SlideInDown} ease-out 0.2s 0s 1 reverse forwards,\n  ${j.SlideInvisiblyDown} linear 0.2s 0.2s 1 normal forwards,\n  ${j.SlideInUp} ease-out 0.2s ${Z}s 1 normal forwards\n`,Sd=`\n  ${j.SlideInUp} ease-out 0.2s 0s 1 reverse forwards,\n  ${j.SlideInvisiblyDown} linear 0.2s 0.2s 1 reverse forwards,\n  ${j.SlideInDown} ease-out 0.2s ${Z}s 1 normal forwards\n`;var Ed=e=>{let{isAnimationEnabled:t,isSticky:n,stickyAreaSelector:i,stickyContainerRef:o,children:a}=e;const[,s]=ju(),c=(0,r.useMemo)((()=>document.querySelector(i)),[i]),{right:u=0}=c?c.getBoundingClientRect():{},l=(0,r.useMemo)((()=>u?document.documentElement.clientWidth-u+"px":"0"),[u]),d=(0,r.useMemo)((()=>({...gd,right:l})),[l]),f=(e=>{let{animationsList:t,isAnimationEnabled:n,isSticky:i,stickyAnimation:o,stickyContainerRef:a,stickyContainerStyles:s,unstickyAnimation:c}=e;const[u,l]=(0,r.useState)(null),d=hs(i);return(0,r.useEffect)((()=>{const e=a.current;if(!e||!n)return;const r=e=>{const{animationName:n}=e;t.some(Xi(n))&&l(n)};return e.addEventListener("animationstart",r),e.style.animation="",d&&!i&&Object.entries(s).forEach((t=>{let[n,r]=t;return e.style[yo(n)]=r})),requestAnimationFrame((()=>requestAnimationFrame((()=>{i||!d?i&&(e.style.animation=o):e.style.animation=c})))),()=>{e.removeEventListener("animationstart",r)}}),[n,i,d,s,a,o,c,t]),u})({animationsList:K,isAnimationEnabled:t,isSticky:n,stickyContainerRef:o,stickyContainerStyles:d,stickyAnimation:wd,unstickyAnimation:Sd});(0,r.useEffect)((()=>{const[e,t]=[j.SlideInUp,j.SlideInvisiblyDown].map(Xi(f));n&&(t||e)&&s({type:Bu,payload:!0}),n||e||t||s({type:Bu,payload:!1})}),[n,f,s]);const p=(0,r.useMemo)((()=>({...n?{}:{transition:"\n                opacity 0.2s,\n                height 0.1s 0.2s\n              ",opacity:0,height:0}})),[n]);return r.default.createElement(r.default.Fragment,null,a(d,p),r.default.createElement(md,{name:j.SlideInDown,animationProps:{from:{...bd,transform:"translateY(-100%)"},to:{...bd,transform:"translateY(0)"}}}),r.default.createElement(md,{name:j.SlideInUp,animationProps:{from:{...d,transform:"translateY(100%)"},to:{...d,transform:"translateY(0)"}}}),r.default.createElement(md,{name:j.SlideInvisiblyDown,animationProps:{"0%":{...bd,display:"block",right:"auto",transform:"translateY(-100%)"},"14%":{...bd,display:"none",right:"auto",transform:"translateY(-100%)"},"28%":{...bd,display:"none",opacity:0,right:"auto",transform:"translateY(-100%)"},"42%":{...bd,display:"none",opacity:0,right:"100vw",transform:"translateY(-100%)"},"56%":{...d,display:"none",opacity:0,right:"100vw",transform:"translateY(100%)"},"70%":{...d,display:"none",opacity:0,right:l,transform:"translateY(100%)"},"84%":{...d,display:"none",right:l,transform:"translateY(100%)"},"100%":{...d,display:"block",right:l,transform:"translateY(100%)"}}}))},kd={stickyContainerDesktopWrapper:"ads-independent__StickyContainerDesktop__stickyContainerDesktopWrapper--XAZlG",stickyContainerDesktop:"ads-independent__StickyContainerDesktop__stickyContainerDesktop--zkjCV",topBar:"ads-independent__StickyContainerDesktop__topBar--O9vcI",closeButton:"ads-independent__StickyContainerDesktop__closeButton--RYe4H",content:"ads-independent__StickyContainerDesktop__content--WXoGH"};const xd=e=>{let{children:t}=e;const{is_always_on_top:n,is_animation_enabled:i,is_stay_sticky_after_timeout:o,sticky_area_css_selector:a,timeout:c}=Vt("sticky_desktop",H)??{},[u]=ju(),{dfpAdSize:l=[],campaign:d,compact:f}=u.context,[p,h]=l,v=u.value===s,_=(0,r.useRef)(null),y=(0,r.useRef)(null),{isSticky:m,remainingStickyTime:g,stickyPlaceholderRef:b,closeStickyContainer:w}=rl(y.current,a,c,o);nl(m,S);const E=v?d.video.size:{width:p,height:h},k=f?{width:`${parseInt(E.width,10)+parseInt("30px",10)}px`,height:E.height}:E;return r.default.createElement(Ed,{isAnimationEnabled:i,isSticky:m,stickyAreaSelector:a,stickyContainerRef:_},((e,a)=>r.default.createElement("div",{className:kd.stickyContainerDesktopWrapper},r.default.createElement("div",{className:kd.placeholder,ref:b,style:k,"data-sticky-placeholder":""}),r.default.createElement("div",{ref:_,className:kd.stickyContainerDesktop,style:{zIndex:n?99999999:20,...m&&!i?e:{}}},r.default.createElement("div",{className:kd.topBar,style:a},r.default.createElement(_d,{className:kd.closeButton,isStickyAfterTimeout:o,remainingTime:g,timeout:c,onClick:w})),r.default.createElement("div",{className:kd.content,ref:y},t)))))};var Od=r.default.memo(xd);const Ad=Rt("tenant_config.stack_top_container.sticky_timeout",W);var Cd=e=>{let{children:t}=e;const{is_always_on_top:n,is_stay_sticky_after_timeout:i,sticky_area_css_selector:o,timeout:a}=Vt("sticky_mobile",G)??{},s=r.default.useRef(null),c=Ad!==W?Ad:a,{isSticky:u,remainingStickyTime:l,stickyPlaceholderRef:d,closeStickyContainer:f}=rl(s.current,o,c,i);nl(u,w);const p=d.current,h=p&&u?{width:p.offsetWidth,height:p.offsetHeight}:void 0;return r.default.createElement("div",{ref:d,style:h,"data-sticky-placeholder":""},r.default.createElement("div",{className:Ko()(["ads-independent__StickyContainerMobile__stickyContainerMobile--JWlyq"],{"ads-independent__StickyContainerMobile__sticky--MFYuQ":u}),style:{zIndex:n?99999999:20}},r.default.createElement("div",{className:Ko()("ads-independent__StickyContainerMobile__topBar--Mibuw",{"ads-independent__StickyContainerMobile__hidden--N_646":!u})},r.default.createElement(_d,{className:"ads-independent__StickyContainerMobile__closeButton--uZeAl",isStickyAfterTimeout:i,remainingTime:l,timeout:c,onClick:f})),r.default.createElement("div",{ref:s,className:"ads-independent__StickyContainerMobile__content--q2vb6",style:{...u?{width:"fit-content",margin:"0 auto"}:{}}},t)))};const{products_heights:Id}=Lt("video_takeover",q);var Nd=e=>{let{children:t}=e;const[n]=ju(),{product:i,campaign:o}=n.context,a=n.matches(s),c=o.video.size,u=Id[i],l=c.width??"auto",d=u??"auto";return r.default.createElement("div",{className:"takeover-container",style:a?{width:l,height:d}:void 0},t)},Pd=e=>{let{children:t,isStickyDesktopRunning:n,isVideoAd:i,adSize:o,className:a}=e;return r.default.createElement("div",{className:a,style:{...i?{width:n?"100%":o.width,height:n?"100%":o.height}:{}}},t)},Dd=e=>{let{children:t}=e;const[n]=ju(),{isStickyDesktopRunning:i,dfpAdSize:o=[],campaign:a}=n.context,[c,u]=o,l=n.value===s,d=l?a.video.size:{width:c,height:u};return r.default.createElement(Od,null,r.default.createElement(Pd,{isStickyDesktopRunning:i,isVideoAd:l,adSize:d},t))},Td=e=>{let{children:t}=e;const[n]=ju(),{isTakeoverEnabled:r,isStickyEnabled:i}=n.context,o=Xl();return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Zi(...t.reverse())}(Eo(Nd,r&&!i),Eo(Dd,i&&r&&!o),Eo(Od,i&&!r&&!o),Eo(Cd,i&&o))(t)},Md=e=>{let{width:t,height:n,children:i,isCentered:o,overflow:a="hidden"}=e;return r.default.createElement("div",{className:Ko()("ads-independent__Container__container--bjLZ9"),style:{overflow:a,position:"relative",display:"flex",flexDirection:"column",width:o?"100%":t,height:n}},i)},jd=n(293);const Rd=e=>{let{userGeo:t,tag:n,spotId:i,adType:o,adUnitId:a,size:s,engagementLevel:c,userGroups:u,mcmNetworkId:l,campaignId:d}=e;const[f,p]=ju(),{adsConfig:h,slot:v,reportingModuleName:_,isStickyEnabled:y}=f.context,m=Da(),g=`${a}-${o}`,b=n.code.includes("/tag/js/gpt.js"),w=((e,t,n)=>{var r;const{is_enabled_by_default:i,enabled_for_modules:o={},enabled_for_devices:a={},enabled_for_geo_locations:s={},enabled_for_slots:c={}}=Vt("render_display_ads_in_iframe_config",{is_enabled_by_default:!0,enabled_for_modules:{},enabled_for_devices:{},enabled_for_geo_locations:{},enabled_for_slots:{}}),u=uo().toLowerCase(),l=`row-${n.row}:column-${n.column}`,d=s[t],f=a[u],p=o[e],h=null==c||null===(r=c[e])||void 0===r?void 0:r[l];return[d,f,p,h].every(Zi(ys,eo))?i:eo([d,f,p,h].some(Xi(!1)))})(_,t,v),{trackEvent:S}=(0,jd.rS)({layout:"display",ad_call_id:m,campaign_id:d,...jr(n)});(0,r.useEffect)((()=>{if(S({engine_status:"engine-will-initialize",row:v.row,column:v.column}),!n.code)return void(e=>{let{product:t}=e;qn({metric:"display-ad-no-code-settings",tags:{[Uo]:t}})})({product:_});if(!b)return void(e=>{let{product:t}=e;qn({metric:"inline-display-ad-rendered",tags:{[Uo]:t}})})({product:_});const e=o===N?"passback":"dbv";"dbv"===e&&yr(_,d);const t=((e,t)=>{let{slotRenderEnded:n,slotOnLoad:r,slotRequested:i,slotResponseReceived:o,impressionViewable:a}=t;const s=`dfpEvent-${e}`;return c=s,u=e=>{switch(Wt(!0,s,e),e.detail.type){case tr:return null==a?void 0:a(e.detail);case nr:return null==r?void 0:r(e.detail);case rr:return null==n?void 0:n(e.detail);case ir:return null==i?void 0:i(e.detail);case or:return null==o?void 0:o(e.detail)}},window.addEventListener(c,u),()=>window.removeEventListener(c,u);var c,u})(g,{slotRenderEnded:t=>{const[r,i]=Ld(t,n);if(p({type:$u,payload:[r,i]}),t.isEmpty)return qn({metric:"dfp-empty-slot-rendered"}),void S({engine_status:"dfp-empty",reportingAdType:e});(e=>{let{dataSource:t,product:n}=e;qn({metric:"dfp-ad-slot-rendered",tags:{[Lo]:ko(),[Vo]:t,[$o]:Oo(),[Uo]:n,[Bo]:Co()}})})({dataSource:h.dataSource,product:_}),S({engine_status:"dfp-slot-render-ended",reportingAdType:e})},slotOnLoad:()=>S({engine_status:"dfp-slot-on-load",reportingAdType:e}),slotRequested:()=>S({engine_status:"dfp-slot-requested",reportingAdType:e}),slotResponseReceived:()=>S({engine_status:"dfp-slot-response-received",reportingAdType:e}),impressionViewable:()=>{(e=>{let{product:t}=e;qn({metric:"dfp-impression-viewable",tags:{[Lo]:ko(),[$o]:Oo(),[Uo]:t,[Bo]:Co()}})})({product:_}),S({engine_status:"dfp-impression-viewable",reportingAdType:e})}});return()=>t&&t()}),[]);const E=(0,r.useCallback)(((e,t,n)=>{w?$r({adUnitId:a,content:e,reportingModuleName:t,target:n}):((e,t)=>{const n=document.createRange().createContextualFragment(e);t.appendChild(n)})(e,n)}),[a,w]),k=(0,r.useCallback)((e=>{if(e)if(b){const t=Mr({adUnitIdFormatted:g,engagementLevel:c,isRenderAdsInIframeEnabled:w,mcmNetworkId:l,reportingModuleName:_,slot:v,spotId:i,userGroups:u,code:n.code,codeSettings:n.code_settings,sellerId:h.spot.seller_id,isStickyEnabled:y});E(t,_,e)}else E(n.code,_,e)}),[b,w,E]),{dfpAdSize:x}=f.context,O=x?x[0]:void 0,A=x?x[1]:null==s?void 0:s.height;return r.default.createElement("div",{className:"ads-independent__DisplayAd__container--xa3UR",ref:k,style:{height:A,width:O}})},Ld=(e,t)=>{if(Array.isArray(e.size)&&e.size.every((e=>e>0))){const[t,n]=e.size;if(((e,t)=>e>10&&t>10)(t,n))return[`${t}px`,`${n}px`]}return[t.size.width,t.size.height]};var Vd=(0,r.memo)(Rd,(()=>!0)),$d=e=>{let{tag:t,position:n,children:i,height:o="auto",width:a="auto",isNativeAd:s}=e;const[c]=ju(),{dfpAdSize:u}=c.context,{code_settings:l}=t??{},d=(null==l?void 0:l.googletag_sizes)??[],[f,p]=d.length>1&&u?u:[a,o];return r.default.createElement("div",{className:Ko()("ads-independent__DisplaySlot__displaySlot--iL_bx",{"ads-independent__DisplaySlot__isNativeAd--sweqa":s}),style:{display:"flex",flexDirection:"row",position:n,width:f,height:p,margin:"auto",alignItems:"center"}},i)},Ud=e=>{let{adHeight:t,adWidth:n}=e;return r.default.createElement("div",{className:Ko()("ads-independent__Loader__loaderContainer--avMm9"),style:{width:n,height:t,maxHeight:t}},r.default.createElement("div",{className:"ads-independent__Loader__loaderContent--eOHu1"},r.default.createElement("div",{className:"ads-independent__Loader__loaderSpinner--q2r4G"})))},zd=e=>{let{adUnitId:t,adWidth:n,campaignId:i,engagementLevel:o,mcmNetworkId:a,spotId:s,tag:c,userGeo:u,userGroups:l}=e;const[d]=ju(),{reportingModuleName:f}=d.context;return(0,Go.cO)((e=>{Yt(!0,"Ad unit display runtime error",e,"\nProduct:",f),Fo(e,{product:f})})),r.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"}},r.default.createElement($d,{width:c.size.width,height:c.size.height,position:"relative",tag:c},r.default.createElement(Vd,{adType:N,adUnitId:t,campaignId:i,engagementLevel:o,mcmNetworkId:a,size:c.size,spotId:s,tag:c,userGeo:u,userGroups:l})),r.default.createElement(Wl,{width:n}))},Bd=e=>`1.0,1!spotim.market,${e},1,,,`;const Fd=e=>{let{id:t,source:n}=e;return{source:n,uids:[{id:t}]}};var Wd=e=>{if(e&&0!==e.length)return{user:{ext:{eids:e.map(Fd)}}}};var Yd=e=>{let{playerRef:t,id:n,isHidden:i,width:o="100%",height:a="auto"}=e;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{ref:t,className:"ads-independent__Players__player--a38Y5",id:n,style:{width:o,height:a,...i?{animation:`hidePlayer ease-in ${400,.4}s 0s 1 normal forwards`}:{}}}),r.default.createElement(md,{name:"hidePlayer",animationProps:{"0%":{position:"absolute",opacity:1,zIndex:500},"99%":{position:"absolute",opacity:0,zIndex:500},"100%":{position:"absolute",opacity:0,zIndex:-500,display:"none"}}}))};const Hd=Lt("aniview_content_bidders",{}),Gd=Object.keys(Hd);var qd=e=>{var t;let{spotId:n,adUnitId:i,tag:o,adWidth:s,adHeight:c,show:u,engagementLevel:l,campaignId:d}=e;const[f,p]=ju(),h=`${i}-aniview`,v=(0,r.useRef)(null),_=(0,r.useRef)(null),y=Da(),{trackEvent:m}=(0,jd.rS)({engine_vendor_name:"aniview",engine_tag_id:null==o?void 0:o.id,ad_call_id:y,campaign_id:d,variant:o.variant}),{adsConfig:g,firstPartyData:b,reportingModuleName:w,envelopeId:S,slot:E,isStickyEnabled:k,isTakeoverEnabled:x,takeoverSize:O}=f.context;xa((async()=>{m({engine_status:"engine-will-initialize",row:E.row,column:E.column});const e=(e=>{let{code:t,reportingModuleName:n,isTakeoverEnabled:r,takeoverSize:i}=e;try{const e=JSON.parse(t),o=r&&i?{...e,width:i.width,height:i.height}:e;return Wt(!0,"Aniview parsed settings",o,"\nProduct:",n),o}catch(e){Yt(!0,"Aniview parse settings error",e,"\nProduct:",n)}})({code:null==o?void 0:o.code,reportingModuleName:w,isTakeoverEnabled:x,takeoverSize:O});if(!e)return p(zu),(e=>{let{product:t}=e;qn({metric:"aniview-invalid-code-settings",tags:{[$o]:Oo(),[Uo]:t}})})({product:w}),void m({engine_status:"engine-initialize-error"});const t=v.current,r=_.current,i=(e=>{let{engagementLevel:t,firstPartyData:n,mcmNetworkId:r,monetizationId:i,platform:o,reportingModuleName:s,sellerId:c,slot:u,spotId:l,isSticky:d=!1,isTakeover:f=!1}=e;const p={AV_CDIM1:l,AV_CDIM2:o??"",AV_CDIM3:s,AV_CDIM4:a.config.pageViewId??"",AV_CDIM5:i??"",AV_CDIM6:fo(),AV_CDIM7:co(u),AV_CDIM8:t??"",AV_CDIM9:r??"",AV_CDIM10:Se.version,AV_CDIM11:io()??"",AV_CDIM12:`${d}`,AV_CDIM13:"boolean"==typeof(null==n?void 0:n.ir)?`${n.ir}`:"",AV_CDIM14:null!=n&&n.us?JSON.stringify(n.us):"",AV_CDIM15:`${f}`,AV_SCHAIN:Bd(c)};return Wt(!0,"Aniview macros",p,"\nProduct:",s),(e=>Object.entries(e).filter((e=>{let[t,n]=e;return Boolean(n)})).map((e=>{let[t,n]=e;return`${t}=${encodeURIComponent(n)}`})).join("&"))(p)})({engagementLevel:l,firstPartyData:b,reportingModuleName:w,slot:E,spotId:n,mcmNetworkId:g.spot.mcm_network_id,monetizationId:g.monetization_id,platform:g.platform,sellerId:g.spot.seller_id,isSticky:k,isTakeover:x}),s={positionDiv:t},c=[S&&{source:"liveramp.com",id:S}].filter(Boolean),u={openRtb:Wd(c)},d={...e,...s,...u,position:h,ref1:i,logo:!1};let f;Wt(!0,"Aniview config",d,"\nProduct:",w);try{f=await go((()=>(e=>new Promise(((t,n)=>{const{publisherId:r,channelId:i}=e;((e,t)=>{(new Image).src=`https://track1.aniview.com/track?pid=${e}&cid=${t}&e=playerLoaded&cb=${Date.now()}&r=${Dr()}`})(r,i);const o=(e=>`https://player.aniview.com/script/6.1/player.js?v=1&type=s&pid=${e}`)(r),a=document.createElement("script");a.src=o,a.onload=()=>t(new window.avPlayer(e)),a.onerror=e=>{document.head.removeChild(a),n(e)},document.head.appendChild(a)})))(d)),3,2e3)}catch(e){const t=po(e);Yt(!0,"Aniview script fetching failed",t,"\nProduct:",w),(e=>{Gn({metric:To,error:zt(e,To)})})(t)}return f?(f.on("AdLoaded",(()=>{p("VIDEO_READY"),m({engine_status:"engine-initialized"})})),f.on("Inventory",(()=>{m({engine_status:"ad-inventory-video"})})),f.on("AdImpression",(e=>{var t;if((e=>{let{dataSource:t,product:n}=e;qn({metric:"aniview-impression",tags:{[Lo]:ko(),[Vo]:t,[$o]:Oo(),[Uo]:n,[Bo]:Co()}})})({dataSource:g.dataSource,product:w}),m({engine_status:"engine-impression"}),null===(t=d.preloader)||void 0===t||!t.link||!e)return;const{tagInfo:n}=e;if(!Gd.includes(n.bidder))return;const r=Hd[n.bidder];let i=!1;if(ys(r))i=r;else{const e=null==r?void 0:r["advertiser-ids"];Array.isArray(e)&&(i=e.includes(n.papi.aid))}var o;i&&(null===(o=f)||void 0===o||o.resumeContent())})),f.on("AdViewableImpression",(()=>{(e=>{let{product:t}=e;qn({metric:"aniview-impression-viewable",tags:{[Lo]:ko(),[$o]:Oo(),[Uo]:t,[Bo]:Co()}})})({product:w}),m({engine_status:"impression-viewable"})})),f.on("AdClickThru",(()=>{m({engine_status:"ad-clickthrough-video"})})),f.on("ContentImpression",(()=>{m({engine_status:"content-impression"})})),f.on("ContentClick",(()=>{m({engine_status:"content-clicked"})})),f.on("ContentComplete",(()=>{m({engine_status:"content-completed"}),p(Uu)})),f.on("AdClosed",(()=>{p("VIDEO_CLOSED"),m({engine_status:"engine-closed"})})),f.on("AdError",(e=>{if(e&&"errorlimit"in e&&e.errorlimit){if("errorlimit"===(null==e?void 0:e.reason))return Wt(!0,"Aniview no ad error limit",e,"\nProduct:",w),qn({metric:"aniview-no-ad-error-limit"}),m({engine_status:"engine-error"}),void p(zu);p(Uu),m({engine_status:"engine-done"})}})),(d.startOnView||d.floating)&&f.startTemplate(r),d.startOnView||f.play(),()=>{var e;return null===(e=f)||void 0===e?void 0:e.close()}):void 0}),[]);const A=(null==o||null===(t=o.size)||void 0===t?void 0:t.width)===$;return r.default.createElement("div",{ref:_,style:{width:"100%",height:"100%"}},r.default.createElement(Yd,{playerRef:v,id:h,isHidden:!u,width:A||x?void 0:s,height:c}))},Jd=e=>{let{isStickyDesktopRunning:t,takeoverSize:n,children:i}=e;const{width:o,height:a}=n,s=(0,r.useMemo)((()=>((e,t,n)=>({width:t,height:n,...e?{height:"100%",transform:"scale(0.5)",margin:`${(.5*n-n)/2}px ${(.5*t-t)/2}px`}:{position:"absolute",top:"-55px",zIndex:2}}))(t,o,a)),[t,o,a]);return r.default.createElement("div",{style:s},i)},Kd=e=>{let{children:t}=e;const[n]=ju(),{isTakeoverEnabled:i,takeoverSize:o,isStickyDesktopRunning:a}=n.context;return r.default.createElement(r.default.Fragment,null,Eo(Jd,i,{isStickyDesktopRunning:a,takeoverSize:o??{width:0,height:0}})(t))};const Zd=Rt("tenant_config.pitc.disableUgc",!1)&&Rt("tenant_config.pitc.compact",!1),Qd={position:"absolute",top:0,height:0,opacity:0,overflow:"hidden"},Xd=e=>{let{show:t,width:n,height:r}=e;return t?{height:r}:{...Qd,width:n}};var ef=e=>{var t;let{adWidth:n,adHeight:i}=e;const[o]=ju(),[a,s]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),{campaign:l,spotId:d,adUnitId:f,adsConfig:p,center:h,reportingModuleName:v,dfpAdSize:_,userGroups:y,engagementLevel:m,isTakeoverEnabled:g,isStickyDesktopRunning:b,takeoverSize:w}=o.context,S=Yl(o,l),{id:k,engagement_level:x,passback:O,video:A}=p.campaign,C=A.type.toLowerCase(),I=Lu(o,["dbv","loader","video"]),N=g&&!b?c:I,{width:P}=w??{},D=g&&P?`${P}px`:n;if((0,r.useEffect)((()=>{Wt(!0,"Video player",C),Zn(f,E,(e=>{let{width:t}=e;return s(t?`${t}px`:null)}))}),[]),(0,r.useEffect)((()=>{if(!I){const e=setTimeout((()=>u(I)),400);return()=>clearTimeout(e)}u(I)}),[I]),!a)return null;const T=o.matches("passback"),M=o.matches("video"),j=M||T,R=(e=>{var t;let{adHeight:n,showVideo:r,reportingModuleName:i,dfpAdSize:o}=e;const a="auto"===n,s=Zd&&!r&&U.includes(i),[,c]=o??[];if(a)return"auto";const u=(null===(t=[{height:ee,cond:s},{height:n,cond:r},{height:c,cond:Boolean(c)}].find(Xi(!0,"cond")))||void 0===t?void 0:t.height)??te,[l,d]=[u,X].map((e=>parseInt(e,10)));return`${l+d}px`})({adHeight:i,showVideo:M,reportingModuleName:v,dfpAdSize:_});return r.default.createElement("div",{className:Ko()("ads-independent__VideoFlow__outerContainer--uuyi3",{"ads-independent__VideoFlow__shown--LxV3y":M}),style:{...Xd({height:R,show:j,width:a})}},r.default.createElement(Md,{height:"100%",width:"100%",isCentered:h,overflow:g?"visible":"hidden"},N&&r.default.createElement(Kd,null,r.default.createElement(qd,{tag:A,adWidth:n,adHeight:i,adUnitId:f,show:M,spotId:d,engagementLevel:x,campaignId:k}),r.default.createElement(Wl,{width:D})),T&&O&&r.default.createElement(zd,{adUnitId:f,adWidth:S,campaignId:null===(t=p.campaign)||void 0===t?void 0:t.id,engagementLevel:m,mcmNetworkId:p.spot.mcm_network_id,spotId:d,tag:O,userGeo:p.geo,userGroups:y})))},tf=e=>{let{hostOnDimensionsChange:t,hostOnVideoDone:n,hostOnVideoPlaying:i}=e;const[o]=ju(),{adsConfig:a,adUnitId:s,isTakeoverEnabled:c,reportingModuleName:u,skipVideo:l}=o.context;(0,Go.cO)((e=>{Yt(!0,"Ad unit video runtime error",e,"\nProduct:",u),((e,t)=>{let{product:n}=t;Gn({metric:No,error:zt(e,No),tags:{[Lo]:ko(),[Uo]:n,[Bo]:Co()}})})(e,{product:u})}));const d=sl("balanced");if(Lu(o,["adUnitDisabled","allAdsDone"]))return Qn(t,s,0,0),null;if(l&&!o.matches("passback"))return null;const{video:f}=a.campaign,{width:p,height:h}=f.size,v=p===$||c;return d?r.default.createElement(ef,{adWidth:v?"100%":p,adHeight:v?"auto":h,hostOnVideoPlaying:i,hostOnVideoDone:n}):null},nf=e=>{var t;let{adIndex:n,children:i,slot:o}=e;const[a]=ju(),s=n?(n+1).toString():void 0,c=s?null==o||null===(t=o.column)||void 0===t?void 0:t.toString():void 0,{campaign:u,reportingModuleName:l}=a.context,{Track:d}=(0,jd.rS)({campaign_id:null==u?void 0:u.id,native:s,page_view_id:Jt(),post_id:jt(),segment:c,source:l,source_version:Se.version,spot_id:Mt(),test_field:sr().getAllExperiments(),type:"engine_status"},{dispatch:wo});return r.default.createElement(d,null,i)};var rf=e=>{let{children:t}=e;const[n]=ju(),{adsConfig:i,moduleName:o,isStickyEnabled:a,compact:s}=n.context,{isIntersecting:c,lazyLoadRef:u}=((e,t,n)=>{const[i,o]=(0,r.useState)(!1),a=`${((e,t)=>{var n;return(null===(n=t.spot.features[e])||void 0===n?void 0:n.lazy_load_v2_margin)??0})(e,t)}px`,s={threshold:[.01],rootMargin:a,...n},c=(0,r.useCallback)((n=>{if(null!==n){if(!((e,t)=>{var n;return Boolean(null===(n=t.spot.features[e])||void 0===n?void 0:n.lazy_load_v2_enabled)})(e,t)||!va)return void o(!0);Wt(!0,"Lazy Load Enabled",{moduleName:e,rootMargin:a});const r=new IntersectionObserver((t=>{let[i]=t;i.isIntersecting&&n&&(o(i.isIntersecting),Wt(!0,"Lazy Load Triggered",{moduleName:e,target:n,rootMargin:a}),null==r||r.unobserve(n))}),s);return n&&r.observe(n),()=>{n&&(null==r||r.unobserve(n))}}}),[]);return{isIntersecting:i,lazyLoadRef:c}})(o,i);return r.default.createElement("div",{"data-mini-ad-unit":!0,ref:u,style:{width:a&&!s?"100%":"auto"}},c?t:null)},of=e=>{let{children:t,context:n}=e;return r.default.createElement(Pu,{machine:tl.withContext(n)},t)},af=e=>{var t,n;let{tag:i,mainTagResponsive:o}=e;const[a]=ju(),{center:s,compact:c,userGroups:u,adUnitId:l,spotId:d,engagementLevel:f,adsConfig:p,reportingModuleName:h}=a.context,v=(null==i||null===(t=i.size)||void 0===t?void 0:t.height)??te,_=o?"auto":c?ee:v;return(0,Go.cO)((e=>{Yt(!0,"Ad unit display runtime error",e,"\nProduct:",h),Fo(e,{product:h})})),a.matches("loader")?r.default.createElement(Md,{height:_,width:"auto",isCentered:s},r.default.createElement(Ud,{adHeight:"250px",adWidth:Q})):r.default.createElement("div",{className:"ads-independent__index__outerContainer--z1dRK",style:{height:_}},r.default.createElement(Md,{height:_,width:"auto",isCentered:s},r.default.createElement($d,{tag:i,width:null==i?void 0:i.size.width,height:null==i?void 0:i.size.height,position:"relative"},(null==i?void 0:i.code)&&r.default.createElement(Vd,{tag:i,spotId:d,size:i.size,adType:"displayBeforeVideo",adUnitId:l,engagementLevel:f,userGroups:u,mcmNetworkId:p.spot.mcm_network_id,campaignId:null===(n=p.campaign)||void 0===n?void 0:n.id,userGeo:p.geo}))))},sf=e=>{var t;let{tag:n,selectedCampaign:i,isNativeAd:o=!1}=e;const a=((e,t)=>{if(e){const{height:e}=t.size;return{width:"100%",height:e}}return{width:t.size.width,height:t.size.height}})(o,n),s=((e,t,n)=>e?((e,t)=>e.includes(t)?e:t+e)(n,function(){return`\n    <style>\n      div div, div iframe { height: ${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"200px"} !important; }\n    </style>\n    `.trim()}(t)):n)(o,n.size.height,n.code),[c]=ju(),{userGroups:u,adUnitId:l,center:d,spotId:f,engagementLevel:p,adsConfig:h,reportingModuleName:v}=c.context;return(0,Go.cO)((e=>{Yt(!0,"Ad unit display runtime error",e,"\nProduct:",v),Fo(e,{product:v})})),r.default.createElement(r.Fragment,null,r.default.createElement(Md,{height:a.height,width:"auto",isCentered:d},r.default.createElement($d,{tag:n,position:"relative",height:a.height,width:a.width,isNativeAd:o},r.default.createElement(Vd,{campaign:i,tag:{...n,code:s},size:a,adType:"default",adUnitId:l,spotId:f,engagementLevel:p,userGroups:u,mcmNetworkId:h.spot.mcm_network_id,campaignId:null===(t=h.campaign)||void 0===t?void 0:t.id,userGeo:h.geo}))))};const cf=e=>{switch(e.type){case s:return e.video.size.width===$;case c:return e.display.size.width===$}},uf=e=>{if(e.type!==c)return!1;const{width:t,height:n}=e.display.size;return t===$&&null!=n},lf=(e,t)=>{Kn(e,E,{width:t})},df=e=>{let{onDimensionsChange:t,onNoAdAvailable:n,onVideoPlaying:i,onVideoDone:o,onTagUpdated:a,adIndex:c,slot:u}=e;const[l,d]=(0,r.useState)({}),f=(0,qo.Vf)(),[p,h]=ju(),{campaign:v,adsConfig:_,reportingModuleName:y,moduleName:m,adUnitId:g,spotId:b,isOptedOut:w,isTakeoverEnabled:S,disableAdForProduct:E}=p.context;(0,Go.cO)((e=>{Yt(!0,"Ad unit base runtime error",e,"\nProduct:",y),Fo(e,{product:y})}));const k=null==v?void 0:v.id,A=_.spot.features[m],C=Lu(p,["adUnitDisabled","allAdsDone"]),I=()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Kn(arguments.length>1?arguments[1]:void 0,x),e()}(n,g),P(0,0)};(0,r.useEffect)((()=>{Wt(!0,"Ad unit campaign",v,"\nProduct:",y),(e=>{const t=window.__SPOTIM_DISABLE_ADS__;window.__SPOTIM_DISABLE_ADS__=()=>{Wt(!0,"Ad unit disabled by global function","\nProduct:",y),h({type:Vu}),I(),vr({reportingModuleName:y,campaignId:k}),qn({metric:"ad-unit-disabled-by-global-function",options:{isDisposable:!0}}),wa();try{t()}catch(e){}}})();const e=ia(y,k),t=oa({campaignId:k,reportingModuleName:y,isCampaignMissed:!v,isDisabledByFeaturesConfig:!(null!=A&&A.enabled),isDisabledByHtmlAttribute:E,isDisabledByIsOptedOutFlag:w});if(e||t||C)return C||h({type:Vu}),void I();(e=>{let{dataSource:t,product:n}=e;qn({metric:"ad-unit-rendered",tags:{[Lo]:ko(),[Vo]:t,[$o]:Oo(),[Uo]:n,[zo]:Ao(),[Bo]:Co()}})})({dataSource:_.dataSource,product:y}),(e=>{let{dataSource:t}=e;qn({metric:"monetized-page-view",options:{isDisposable:!0},tags:{[Lo]:ko(),[Vo]:t,[zo]:Ao(),[Bo]:Co()}})})({dataSource:_.dataSource}),(e=>{let{monetizationId:t,reportingModuleName:n,campaignId:r,userGroups:i=[],slot:o}=e;hr({...o,...dr,target_id:t,user_segments:i},n,r)})({reportingModuleName:y,slot:u,campaignId:k,monetizationId:_.monetization_id,userGroups:_.user_groups}),Zn(g,"onStylingChange",d),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};Kn(arguments.length>1?arguments[1]:void 0,O),e()}(a,g),((e,t)=>!!(e=>Boolean(e.moat_enabled))(e)&&Cl(e,t))(A,"widget")&&((e,t)=>{const n=wl,r=uo(),i=document.createElement("script");i.src=`https://z.moatads.com/spotimdisplay705463185058/moatad.js#moatClientLevel1=${e}&moatClientLevel2=${n}&moatClientLevel3=${r}&moatClientLevel4=Geo&moatClientSlicer1=${t}`,i.async=!0,document.body.appendChild(i)})(b,y)}),[]);const N=Yl(p,v),P=ea(((e,n)=>Qn(t,g,e,n)),100),D=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=(0,r.useRef)(null);return(0,r.useCallback)((r=>{if(null!==o.current&&(o.current.disconnect(),o.current=null),!e||null==r)return;const i=new ResizeObserver(t);i.observe(r,n),o.current=i}),i)}(!C,(e=>{const{width:t,height:n}=e[0].contentRect;P(t,n)})),T=(0,r.useCallback)((e=>{if(null===e)return;const t=e.getBoundingClientRect().width;t?lf(g,t):((e,t)=>{const n=new ResizeObserver((e=>{n.disconnect(),t(e)}));n.observe(e)})(e,(e=>{lf(g,e[0].contentRect.width)}))}),[]);return C||!v?null:r.default.createElement(nf,{adIndex:c,slot:u},r.default.createElement(rf,null,r.default.createElement(Td,null,r.default.createElement("div",{className:Ko()({[la.outerWrapper]:pe}),ref:T},r.default.createElement("div",{style:l,ref:D},r.default.createElement("div",{id:"spotim-specific"},r.default.createElement("div",{ref:f,className:Ko()(la.adWrapper,{[la.takeover]:S})},Lu(p,["initial","dbv","fixedDisplayAd","loader"])&&r.default.createElement(r.default.Fragment,null,v.type===s?r.default.createElement(af,{tag:v.displayBeforeVideo,mainTagResponsive:cf(v)}):r.default.createElement(sf,{tag:v.display,isNativeAd:uf(v),selectedCampaign:v}),r.default.createElement(Wl,{width:N})),v.type===s&&r.default.createElement(tf,{hostOnDimensionsChange:t,hostOnVideoPlaying:i,hostOnVideoDone:o}))))))))};var ff=()=>r.default.createElement("div",{style:{height:"50px",width:"50px"}});const pf=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i}=e;return(0,r.useMemo)((()=>(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r}=e;const i=Zl({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:r});return(e,t,n,r)=>{if(null==r||!r.containerWidth||!r.maxCards)return void Wt(!0,"Missed required options for rendering multiple ad slots",r);const{containerWidth:o,maxCards:a}=r,s=((e,t)=>{let n=1;return pe||(t<620?n=1:t>=620&&t<1024?n=2:t>=1024&&(n=3)),Math.min(n,e)})(a,o),c={display:"flex","flex-direction":"column","justify-content":"flex-start","margin-top":"30px","margin-bottom":"30px","margin-right":"20px","max-width":Ql(o,s)};e.style.display="flex";for(let o=0;o<s;o++){const a=document.createElement("div"),s={...n,column:o+1};Object.assign(a.style,c),e.appendChild(a),i(a,t,s,r)}}})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i})),[t,n,i])},hf=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i}=e;return(0,r.useMemo)((()=>Zl({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i})),[t,n,i])},vf="independent_ad",_f=Lt("independent_ads_custom_selectors",{}),yf=Lt("independent_ads_custom_selector_enabled",!1),mf=Lt("independent_ads_enabled",!0),gf=(e,t)=>{const n=t??"div[data-openweb-ad]";mf?function(e){var t=e.selector,n=e.onAdded,r=e.onAttributesChanged,i=void 0===r?function(){}:r,o=e.onRemoved,a=void 0===o?function(){}:o,s="spotim-detector-animation-"+function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t+Math.floor(1e5+9e5*Math.random())||0}(t);br()?function(e){var t=e.selector,n=e.onItemFound,r=document.querySelector(t);if(r)n(r);else var i=setInterval((function(){var e=document.querySelector(t);e&&(n(e),clearInterval(i))}),1e3)}({selector:t,onItemFound:function(e){n(e),$l({element:e,onRemoved:a}),Vl({element:e,onAttributesChanged:i})}}):(function(e){var t=e.selector,n=e.animationName;requestAnimationFrame((function(){var e,r=document.createElement("style");r.setAttribute("data-spot-im-style-module","*"),r.setAttribute("data-spot-im-style","true"),r.innerText=("\n  "+t+" {\n    animation: "+n+" 1ms !important;\n  }\n  \n  @keyframes "+n+" {\n    from {\n    } to {\n    }\n  }\n  ").replace(/\n/g,""),document.head.appendChild(r),(null==(e=window.__SPOTIM__)?void 0:e.stylesheetElementAdded)&&window.__SPOTIM__.stylesheetElementAdded({module:"*",stylesheetElement:r});var i=document.querySelectorAll("data-spot-im-shadow-host");Array.from(i).forEach((function(e){e.shadowRoot&&e.shadowRoot.appendChild(r.cloneNode())}))}))}({animationName:s,selector:t}),function(e){var t=e.animationName,n=e.onItemFound,r=function(e){var r;e.animationName!==t&&(null==e||null==(r=e.detail)?void 0:r.animationName)!==t||!e.target||n&&n(e.composedPath()[0])};document.addEventListener("animationstart",r),document.addEventListener("MSAnimationStart",r),document.addEventListener("webkitAnimationStart",r)}({animationName:s,onItemFound:function(e){n(e),$l({element:e,onRemoved:a}),Vl({element:e,onAttributesChanged:i})}}))}({selector:n,onAdded:t=>bf(n,t,e)}):Wt(!0,"Independent Ads Disabled")},bf=(e,t,n)=>{const r="data-rendered";if(t.hasAttribute(r))return;const i=yf&&Boolean(_f[e]),o=!i&&(e=>{const t=e.getAttribute("data-row"),n=e.getAttribute("data-column");if([t,n].includes(null))return!1;const r=Number(t),i=Number(n),o=ka(r),a=ka(i);return o&&a})(t)?{row:Number(t.getAttribute("data-row")),column:Number(t.getAttribute("data-column"))}:oo,a=i?_f[e]:o;n(t,vf,a,{forceSpecificSlot:!1}),t.setAttribute(r,"true"),hr(pr,vf)},wf=Lt("independent_ads_custom_selectors",{}),Sf=Lt("independent_ads_custom_selector_enabled",!1),Ef=e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i}=e;(0,r.useEffect)((()=>{if(Se.adsAssetType!==C)return;const e=(r=(e,r)=>{const o=(e=>{let{target:t,product:n}=e,r={...ba[n]};switch(n){case v:{const e=t.hasAttribute("data-spotlight-sidebar")||Rt("tenant_config.spotlight.isSidebar"),{width:n}=t.getBoundingClientRect(),i=n<500;r={...r,center:Boolean(e),adPosition:e||i?d:p,moduleName:e?"conversation_header_siderail":"conversation_header"};break}case y:{var i;const e=null===(i=t.dataset)||void 0===i?void 0:i.pageType,n=t.hasAttribute("data-vertical-view")||sa(t),o=Rt("tenant_config.pitc.bottomVerticalAd",!1),a=pe||n,s=Rt("tenant_config.pitc.showAdBeforeContent",!0),c=(()=>{const e=Rt("tenant_config.pitc.mobileAdPosition",d);return e===d||e===l?e:d})(),u=Rt("tenant_config.pitc.forceDesktopAd",!1),h=Rt("tenant_config.pitc.disableUgc",!1)&&Rt("tenant_config.pitc.compact",!1)||"compact"===Rt("tenant_config.pitc.layoutVariant"),v=pe&&c===l,_=n?o?d:l:pe&&!u?c:s?f:p,y=ca(t),m=n?"side_rail":e&&F.hasOwnProperty(e)?F[e]:"pitc";r={...r,adPosition:_,titleBelowAd:v,moduleName:y,center:a,compact:h,reportingModuleName:m};break}case m:{const e=Rt("tenant_config.pitc.forceDesktopAd",!1),n=Rt("init_data.config.ltr",!0),i=Rt("tenant_config.pitc.showAdBeforeContent",!0),o=pe&&!e?d:n===i?f:p,a=ca(t);r={...r,adPosition:o,moduleName:a};break}case g:{const e=(e=>{const t=Rt("tenant_config.reactions.shouldRenderAdBelow",!1),{width:n}=e.getBoundingClientRect();return t?d:n>=720?p:d})(t),n=t.hasAttribute("data-vertical-view");r={...r,adPosition:e,moduleName:n?"reactions_siderail":"reactions"};break}case b:{const e=Rt("tenant_config.topic-tracker.shouldRenderAdBelow",!1),n=Rt("tenant_config.topic-tracker.override_spotlight")&&(t.hasAttribute("data-spotlight-sidebar")||Rt("tenant_config.spotlight.isSidebar"))||t.hasAttribute("data-topic-tracker-sidebar")||"true"===t.getAttribute("data-vertical-view")||Rt("tenant_config.topic-tracker.isSidebar"),i=n?"topic_tracker_siderail":"topic_tracker";r={...r,center:!0,adPosition:n||pe||e?d:p,moduleName:i};break}}return{...r,product:n,reportingModuleName:r.reportingModuleName??r.moduleName}})({product:e,target:r}),a=Jl(t,o);if(!a)return;const{adsConfig:{campaign:s},moduleName:c,reportingModuleName:u}=a,{is_sticky:h,is_video_takeover:_}=s??{},{headerDiv:w,productContainer:S,productAndTitleContainer:E,stylingWrapper:k}=((e,t)=>{const n=(()=>{const e=Rt("init_data.config.ltr",!0),t=document.createElement("div");return t.setAttribute("data-spot-im-direction",e?"ltr":"rtl"),t})(),r=(e=>{const t=document.createElement("div"),n=e.moduleName,r=e.adPosition||f;return t.classList.add(la.adUnitWrapper,la[ua(r)],la[n]),t.setAttribute(`${n}-ad-wrapper`,""),t})(t),i=((e,t,n,r)=>{const i=document.createElement("div");return i.id="spotim-specific",i.className=e.className,i.setAttribute("data-openweb-style-wrapper","true"),i.setAttribute(`${r}-ad-container`,""),i.appendChild(n),n.appendChild(t),i})(e,r,n,t.moduleName);return((e,t,n)=>{e.insertAdjacentElement("beforebegin",t),e.className=la.elementWrapper,e.setAttribute("data-ad-unit-id",n.adUnitId)})(e,i,t),{productContainer:r,headerDiv:da(),productAndTitleContainer:i,stylingWrapper:n}})(r,a),x=ql({adUnitProps:a,target:r,contextOverrides:{isStickyEnabled:rd(Boolean(h),c),isTakeoverEnabled:ad(Boolean(_),e),takeoverSize:ud(e,S)}}),O=()=>fa({adUnitProps:a,headerDiv:w,productContainer:S,productAndTitleContainer:E,stylingWrapper:k,target:r});_r({reportingModuleName:u,campaignId:null==s?void 0:s.id}),_a(c,u,r,(()=>{n({context:x,props:a,target:S}),O()}),(()=>{i({target:S}),O()}))},(0,Jn.subscribe)("products-to-load",(e=>e.map((e=>(0,Jn.subscribe)(`${e}-bootstrap`,(t=>{Boolean(ld[e]&&(!dd[e]||dd[e]!==t))&&(dd[e]=t,r(e,t))})))))));var r;return()=>{e&&e()}}),[t,n,i])};var kf=()=>{const e=(0,r.useCallback)((e=>{(e=>{if(!(e.error instanceof SyntaxError&&document.currentScript))return;const t=document.currentScript.innerHTML,n=(e=>{var t;const n=`${Se.adsAssetType}.js`,r=Se.nodeEnv.isProduction?`${Se.version}/${Se.adsAssetType}/${n}`:`/${n}`;return Boolean(null===(t=e.stack)||void 0===t?void 0:t.includes(r))})(e.error),r=t.includes("googletag.pubads"),i=t.includes(Mt());n&&r&&i&&Ho()})(e)}),[]);(0,r.useEffect)((()=>(window.addEventListener("error",e),()=>{window.removeEventListener("error",e)})),[e])},xf=e=>{let{adsConfigs:t}=e;const n=(0,r.useCallback)((e=>{let{context:t,props:n,target:o}=e;i(o).render(r.default.createElement(of,{context:t},r.default.createElement(df,n)))}),[]),o=(0,r.useCallback)((e=>{let{target:t}=e;i(t).render(r.default.createElement(ff,null))}),[]);return(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i}=e;const[o,a]=(0,r.useState)(!1),s=hf({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i}),c=pf({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i});(0,r.useEffect)((()=>{(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderAdUnit=e})(s),(e=>{window.__OPEN_WEB__=window.__OPEN_WEB__||{},window.__OPEN_WEB__.renderMultipleAdSlots=e})(c),a(!0)}),[s,c]),(0,r.useEffect)((()=>{(0,Jn.dispatch)("ad-ops-config-ready")}),[o])})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:o}),(e=>{let{adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i}=e;const o=hf({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:i});(0,r.useEffect)((()=>{const e=Object.keys(wf);Sf&&e.length?e.map((e=>gf(o,e))):gf(o)}),[o])})({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:o}),Ef({adsConfigs:t,renderAdUnit:n,renderAdUnitPlaceholder:o}),kf(),(()=>{const e=(0,r.useCallback)((e=>{(e=>{const{data:t}=e,n=t.type===L,r=t.error instanceof SyntaxError;n&&r&&t.isGoogleDfpScript&&Ho()})(e)}),[]);(0,r.useEffect)((()=>(window.addEventListener("message",e),()=>{window.removeEventListener("message",e)})),[e])})(),r.default.createElement(r.default.Fragment,null)},Of=()=>{const e=bl(),t=sl("low_impact"),n=Ll(e),i=e&&t&&n;return(0,Go.cO)((e=>{Yt(!0,"Bootstrapper runtime error",e),Wo(e)})),i?r.default.createElement(xf,{adsConfigs:e.data}):null};(()=>{try{if(Se.nodeEnv.isTest)return;const{adsAssetType:e,version:t}=Se,n=e===C;if(n){if(n&&a.flags.isAdsAssetRunning)return void Wt(!0,"Ads asset is already running");a.flags.isAdsAssetRunning=!0}const o=e===I;if(o){if(o&&a.flags.isAdsIndependentAssetRunning)return void Wt(!0,"Ads-independent asset is already running");a.flags.isAdsIndependentAssetRunning=!0}Wt(!0,"Ads asset data",e,t),qn({metric:"ads-script-started",tags:{"ab-test-irrelevant-variant":xo(),browser:Se.browser.type,[$o]:Oo(),platform:Se.platform,[zo]:Ao()}}),i(new DocumentFragment).render(r.default.createElement(r.default.StrictMode,null,r.default.createElement(Of,null)))}catch(e){const t=po(e);Yt(!0,"Bootstrap runtime error",t),Wo(t)}})()}()}();
//# sourceMappingURL=https://go-s3-downloader.dev-openweb.com/download/ads/tags/v22.0.0/sourcemaps/ads-independent/ads-independent.js.map